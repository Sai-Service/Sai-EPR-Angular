
    <form [formGroup]="jobcardForm" (ngSubmit)="jobcard(jobcardForm.value)">
    
        <div class="center">
        <table style="width: 100%;background-color: white;">
            <tr>
                <td class="PageHeader" style="width: 100%;">
                    &nbsp;&nbsp;JOBCARD&nbsp;OPENING
                </td>

                <td>
                    <table>
                        <tr>
                               <td colspan="2" style="width: 100%;text-align: center;margin-left: 10px;">
                                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#jobCardSearch" (click)='LoadSearchForm()'  
                                    style="text-align: center; font-size: small;font-weight: bolder; margin-right: 90%;">Find</button>
                            </td>

                        </tr>
                    </table>
                </td>
            </tr>
        </table>

                <!-- <fieldset class="RFS">
                <table class="center" style="width: 100%;background-color: #FFE4B5;">
                        <tr>
           
                        <td  style="background-color: #FFE4B5;" class="LabelFontStyle" >&nbsp;JC&nbsp;Number&nbsp;:&nbsp;</td>
                   
                        <td>
                            <input type="text" formControlName="jobCardNum" [(ngModel)]="jobCardNum"
                                class="form-control" #myinput>
                        </td>

                        <td  style="background-color: #FFE4B5;" class="LabelFontStyle">&nbsp;Opened&nbsp;&nbsp;Date:&nbsp;</td>
                        
                        <td style="background-color: #FFE4B5;">
                            <input type="date" class="form-control" formControlName="jobCardDate" [(ngModel)]='jobCardDate'
                                value={{jobCardDate}}  >
                        </td>

                        <td  style="background-color: #FFE4B5;" class="LabelFontStyle">&nbsp;Reg&nbsp;&nbsp;Number:&nbsp;</td>
                        
                        <td style="background-color: #FFE4B5;">
                            <input type="text" class="form-control" formControlName="regNo" [(ngModel)]='regNo'
                                value={{regNo}} >
                        </td>

                        <td  style="background-color: #FFE4B5;" class="LabelFontStyle">&nbsp;JC&nbsp;&nbsp;Status:&nbsp;</td>
                        <td>
                            <select formControlName="jobStatus" id="jobStatus" class="form-control"    >
                            <option value="Opened">Opened</option>
                            <option value="Ready for Invoice">Ready for Invoice</option>
                            <option value="Invoiced">Invoiced</option>
                            <option value="Closed">Closed</option>
                            </select>
                        </td>

                        <td> <button type="button" class="btn btn-primary" (click)="Search(jobCardNum)" >Find</button> </td> 
                       
                       
                        </tr>
                       
            </table>

            </fieldset> -->



        <div class="center" style="width: 100%;">
            <div class="form-bg">
                <div class="center" style="width: 100%;">
                    <!-- <form [formGroup]="jobcardForm" (ngSubmit)="jobcard(jobcardForm.value)"> -->
                    <div id="Panel1" class="auto-style103">
                        <table class="center">
                            <section class="mx-2 pb-3">
                                <ul class="nav nav-tabs md-tabs" id="myTabMD" role="tablist">

                                    <li class="nav-item waves-effect waves-light">
                                        <a class="nav-link active" id="home-tab-md" data-toggle="tab" href="#home-md"
                                            role="tab" aria-controls="home-md" aria-selected="true">Job Card Opening</a>
                                    </li>
                                    
                                    <div *ngIf="displaylabMatTab; then thenBlocklabMatTab; else elseBlocklabMatTab"></div>
                                    <ng-template #thenBlocklabMatTab>

                                    </ng-template>
                                    <ng-template #elseBlocklabMatTab>
                                        <li class="nav-item waves-effect waves-light">
                                            <a class="nav-link" id="profile-tab-md" data-toggle="tab" href="#profile-md"
                                                role="tab" aria-controls="profile-md" aria-selected="false">Labour
                                                Details
                                            </a>
                                        </li>
                                        <li class="nav-item waves-effect waves-light">
                                            <a class="nav-link" id="contact-tab-md" data-toggle="tab" href="#contact-md"
                                                role="tab" aria-controls="contact-md" aria-selected="false" (click)="LoadMatLines(jobCardNum)"  >Part
                                                Details</a>
                                        </li>
                                    </ng-template>
                                    <div *ngIf="displaybilling; then thenBlockbilling; else elseBlockbilling"></div>
                                    <ng-template #thenBlockbilling>

                                    </ng-template>
                                    <ng-template #elseBlockbilling>
                                        <li class="nav-item waves-effect waves-light">
                                            <a class="nav-link" id="billing-tab-md" data-toggle="tab" href="#billing-md"
                                                role="tab" aria-controls="contact-md" aria-selected="false">Billing
                                                Details</a>
                                        </li>
                                    </ng-template>

                                </ul>
                                <div style="border: 0px;" class="tab-content card " id="myTabContentMD">
                                    <div class="tab-pane fade show active" id="home-md" role="tabpanel"
                                        aria-labelledby="home-tab-md">
                                        <div class="center" style="width: 100%;">
                                            <div class="form-bg">
                                                <div class="center">
                                                    <div id="Panel1" class="auto-style103">
                                                        <div class="center">
                                                            <div class="container1">
                                                                <table style="width: 100%" class="center">
                                                                    <fieldset class="RFS">
                                                                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;"> <b>Job&nbsp;Card&nbsp;Details&nbsp;</b> </legend>
                                                                        <tr>
                                                                            <td style="width: 15%" class="LabelFontStyle">Job&nbsp;Card&nbsp;No&nbsp;:</td>
                                                                            <td> <input type="text" disabled class="form-control" [(ngModel)]="jobCardNum"  formControlName="jobCardNum"  placeholder="">
                                                                            <input type="text" hidden formControlName="jobCardId">  </td>       
                                                                            
                                                                            <td style="width: 15%"  class="LabelFontStyle"> Job&nbsp;Card&nbsp;Date&nbsp;:</td>
                                                                            <td> <input  disabled   type="date"  class="form-control" [(ngModel)]="jobCardDate" formControlName="jobCardDate"  > </td>
                                                                              
                                                                            <td style="width: 15%" class="LabelFontStyle">Job&nbsp;Card&nbsp;Status&nbsp;:</td>
                                                                            <td>  <input type="text" disabled   class="form-control" placeholder=""  formControlName="jobStatus" [(ngModel)]="jobStatus">  </td>
                                                                            
                                                                            <td style="width: 15%" class="LabelFontStyle"> Invoice&nbsp;Date&nbsp;:</td>
                                                                            <td> <input type="date" disabled class="form-control" formControlName="arInvDate"  value="{{arInvDate}}" style="font-weight: bolder;"> </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="width: 15%" class="LabelFontStyle">DMS&nbsp;JC&nbsp;No&nbsp;:</td>
                                                                            <td> <input type="text" autofocus  class="form-control" formControlName="dmsJcNo"  > </td>
                                                                            
                                                                            <td style="width: 15%" class="LabelFontStyle">  DMS&nbsp;JC&nbsp;Date&nbsp;:</td>
                                                                            <td><input type="date"  class="form-control" formControlName="dmsJCDate" placeholder=""> </td>
                                                                            
                                                                            <td style="width: 15%" class="LabelFontStyle">  Owner&nbsp;:</td>
                                                                            <td><input type="text" disabled  class="form-control"   [(ngModel)]="owner" formControlName="owner" placeholder="">  </td>
                                                                            
                                                                            <td style="width: 15%" class="LabelFontStyle"> Parts&nbsp;Issue&nbsp;Status&nbsp;: </td>
                                                                            <td>
                                                                                 <select formControlName="matStatus" id="matStatus"  class="form-control">
                                                                                   <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  matStatusList" [selected]="sc.cmnTypeId===1" [value]="sc.code">
                                                                                        {{sc.code}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>
                                                                        </tr>
                                                                    </fieldset>

                                                                    <div *ngIf="dispfreezeDetail; then thenBlockOpen; else elseBlockFreeze">
                                                                        </div>
                                                                        <ng-template #thenBlockOpen>

                                                                    <fieldset class="RFS">
                                                                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;"><b>Vehicle&nbsp;Details&nbsp;</b> </legend>
                                                                        <tr>
                                                                            <td style="width: 15%" class="LabelFontStyle1">JC Type&nbsp;: </td>
                                                                             <td> 
                                                                                <select formControlName="jcType" style="background-color: yellow;"
                                                                                    id="jcType" class="form-control" (ngModelChange)='onOptionBillableSelected($event,"New")'>
                                                                                    <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  jcTypeList">
                                                                                        {{sc.model}}
                                                                                    </option>
                                                                                </select>
                                                                                <input type="text" hidden   class="form-control" placeholder=""  [(ngModel)]="divisionId"  formControlName="divisionId">
                                                                             </td>

                                                                             <td style="width: 15%" class="LabelFontStyle1"> Registration&nbsp;No&nbsp;:</td>
                                                                            <!-- <td>
                                                                            <table>
                                                                            <tr> -->

                                                                               <td>
                                                                                <input type="text" style="background-color: yellow;text-transform: uppercase;"
                                                                                formControlName="regNo"   [(ngModel)]="regNo" (change)="serchByRegNo(regNo)"  
                                                                                (keyup)="getUserIdsFirstWay($event)" id="userIdFirstWay" list="dynmicUserIds" class="form-control" />
                                                                                <datalist id="dynmicUserIds">
                                                                                    <option
                                                                                        *ngFor="let item of RegNoList1"  [ngValue]="item.regNo">
                                                                                        {{item.regNo}}
                                                                                    </option>
                                                                                </datalist>
                                                                               
                                                                                <input type="text"   hidden  formControlName="itemId">
                                                                                <input type="text"   hidden formControlName="customerSiteId">
                                                                                <input type="number" min="0"  hidden   formControlName="ouId">
                                                                                <input type="number" min="0"  hidden formControlName="deptId">
                                                                                <input type="number" min="0"  hidden   formControlName="locId">
                                                                                <input type="text"   hidden   formControlName="customerId">
                                                                                <input type="number" min="0"  hidden  formControlName="emplId" value={{emplId}}>
                                                                                <input type="number" min="0"  hidden  formControlName="deptName">
                                                                                <input type="number" min="0"  hidden  formControlName="serviceModel">
                                                                                <input type="number" hidden  formControlName="storedKmr" [(ngModel)]="storedKmr">
                                                                                   
                                                                                </td>
                                                                                <!-- <td><button type="button" class="btn-primary" (click)="createNew()" style="width: fit-content;">Create</button> </td>
                                                                            </tr>
                                                                            </table>
                                                                            </td> -->


                                                                            <td style="width: 15%"  class="LabelFontStyle"> VIN&nbsp;:</td>
                                                                            <td><input disabled type="text" class="form-control" placeholder=""  formControlName="vin"> </td>
                                                                           
                                                                            <td></td>
                                                                            <td><button type="button" data-toggle="modal"  class="btn btn-primary" data-target="#vehAddtionalDetails"  style="width:140px">Additional Details</button></td>
                                                                          
                                                                        </tr>

                                                                       
                                                                        <tr>
                                                                            <td style="width: 15%" class="LabelFontStyle1">Service&nbsp;Type&nbsp;:</td>
                                                                            <td>
                                                                               <select formControlName="srTypeId" style="background-color: yellow;"
                                                                                    id="srTypeId"   (ngModelChange)="onOptionsSelectedsrTypeId($event)" class="form-control">
                                                                                    <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  srTypeIdList"  [ngValue]="sc.srTypeId">
                                                                                        {{sc.srTypeId}}-{{sc.srTypeName}}-{{sc.description}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>

                                                                           <td></td>
                                                                            <td><button type="button" class="btn btn-primary" (click)="createNew()" style="width:140px;">Create Customer</button> </td> 

                                                                         
                                                                            <td style="width: 15%" class="LabelFontStyle"> &nbsp;Sale&nbsp;Date&nbsp;: </td>
                                                                            <td> <input type="date" disabled class="form-control" placeholder="" formControlName="regDate"> </td>
                                                                         
                                                                            <td style="width: 15%" class="LabelFontStyle"> &nbsp;Model&nbsp;:</td>
                                                                            <td><input type="text" disabled class="form-control" placeholder="" formControlName="mainModel"> </td>
                                                                        </tr>
                                                                       
                                                                        <tr>
                                                                            <td style="width: 15%"  class="LabelFontStyle1">Service&nbsp;Sub&nbsp;Type&nbsp;:</td>
                                                                            <td>
                                                                                <select formControlName="subTypeId" style="background-color: yellow;"
                                                                                    id="subTypeId" class="form-control">
                                                                                    <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  SubSrTypeIdList"   [ngValue]="sc.subTypeId">
                                                                                        {{sc.subTypeName}}-{{sc.description}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>

                                                                            <td style="width: 15%"  class="LabelFontStyle"> Bay&nbsp;Code&nbsp;:</td>
                                                                          
                                                                           <td>
                                                                            <select formControlName="bayTyId" style="background-color: yellow;" id="bayTyId" class="form-control">
                                                                            <option>--Select--</option>
                                                                            <option
                                                                                *ngFor="let sc of  bayTypeList"  [ngValue]="sc.bayTyId">
                                                                               {{sc.bayTyDesc}}
                                                                            </option>
                                                                           </select> 
                                                                          </td>

                                                                        
                                                                          <td style="width: 15%" class="LabelFontStyle"> &nbsp;Variant&nbsp;:</td>
                                                                          <td><input type="text" disabled class="form-control" placeholder="" formControlName="variantCode"> </td>
                                                                         
                                                                          <td style="width: 15%" class="LabelFontStyle">Color&nbsp;:</td>
                                                                          <td><input type="text" disabled  class="form-control" placeholder="" formControlName="colorCode"> </td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td style="width: 15%" class="LabelFontStyle1"> Service&nbsp;Advisor&nbsp;:</td>
                                                                            <td>
                                                                                <select formControlName="srvAdvisor" style="background-color: yellow;" id="srvAdvisor"  class="form-control">
                                                                                    <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  srvAdvisorList"  [ngValue]="sc.srvAdvisor">
                                                                                        {{sc.srvAdvisorName}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>

                                                                            <td style="width: 15%" class="LabelFontStyle1">Group&nbsp;: </td>
                                                                            <td>
                                                                                 <select formControlName="groupId" [(ngModel)]="groupId"  style="background-color: yellow;"
                                                                                    id="groupId" class="form-control">
                                                                                    <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  groupIdList"  [ngValue]="sc.teamId">
                                                                                        {{sc.teamName}}-{{sc.teamDesc}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>
                                                                           
                                                                            <td style="width: 15%" class="LabelFontStyle">Chassis&nbsp;No&nbsp;:</td>
                                                                            <td><input type="text" disabled class="form-control" placeholder=""  formControlName="chassisNo">  </td>
                                                                            
                                                                            <td style="width: 15%" class="LabelFontStyle"> Engine&nbsp;No&nbsp;:</td>
                                                                            <td><input type="text" disabled  class="form-control" placeholder="" formControlName="engineNo"> </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="width: 15%"  class="LabelFontStyle1">Technician&nbsp;: </td>
                                                                            <td>
                                                                                 <select formControlName="techId" style="background-color: yellow;"
                                                                                    id="techId" (ngModelChange)="technician($event)"  class="form-control">
                                                                                    <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  TechnicianList"  [ngValue]="sc.teamId">
                                                                                         {{sc.ticketNo}}-{{sc.description}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>

                                                                            <td style="width: 15%" class="LabelFontStyle1">OMR&nbsp;/Current&nbsp;KMS&nbsp;:</td>
                                                                            <td><input type="number" style="background-color: yellow;" class="form-control" placeholder="" formControlName="lastRunKms" (change)="validateKm($event)" > </td>
  

                                                                            <!-- <td style="width: 15%"  class="LabelFontStyle">Tech&nbsp;Advisor&nbsp;:</td> -->
                                                                            <input hidden  type="text" class="form-control" placeholder="" formControlName="techAdvisor" > 
                                                                           
                                                                            
                                                                            <td style="width: 15%" class="LabelFontStyle">Dealer&nbsp;Name&nbsp;:</td>
                                                                            <td> <input type="text" disabled class="form-control" placeholder=""  formControlName="dealerName"> </td>
                                                                        
                                                                            <td style="width: 15%" class="LabelFontStyle">Dealer&nbsp;Site&nbsp;:</td>
                                                                            <td><input type="text" disabled class="form-control" placeholder="" formControlName="dealerSite"></td>
                                                                       </tr>
                                                                        <tr>
                                                                            <td style="width: 15%" class="LabelFontStyle">&nbsp;Demanded&nbsp;Job&nbsp;:</td>
                                                                            <td colspan="3">
                                                                            <textarea id="demandJob" formControlName="demandJob" rows="2" style="width: 100%;resize: none; font-size: small;" ></textarea> </td>
                                                                            <td style="width: 15%"  class="LabelFontStyle">Recommendation&nbsp;:</td>
                                                                            <td colspan="3"><textarea id="recomJob" formControlName="recomJob" rows="2" style="width: 100%; resize: none;font-size: small;" ></textarea> </td>
                                                                        </tr>
                                                                       
                                                                      



                                                                    </fieldset>
                                                                        </ng-template>

                                                                        <ng-template #elseBlockFreeze>
                                                                                <fieldset class="RFS">
                                                                                    <legend id="FormsPH_LGAadhaar" class="RFSL"
                                                                                        style="font-size: 10px;color: black;">
                                                                                        <b>Vehicle&nbsp;Details&nbsp;</b>
                                                                                    </legend>
                                                                                    <tr>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle1">
                                                                                            Registration&nbsp;No&nbsp;:</td>
                                                                                        <td>
                                                                                            <input disabled type="text"
                                                                                                formControlName="regNo"
                                                                                                [(ngModel)]="regNo"
                                                                                               class="form-control" />
                                                                                            <!-- <select  formControlName="RegNo" id="RegNo"  (ngModelChange)="serchByRegNo($event)"
                                                                                        class="form-control">
                                                                                        <option>--Select--</option>
                                                                                        <option *ngFor="let sc of  RegNoList1" >
                                                                                            {{sc.srvAdvisorName}}
                                                                                        </option>
                                                                                    </select> -->
                                                                                            <input type="text" hidden
                                                                                                formControlName="itemId">
                                                                                            <input type="text" hidden
                                                                                                formControlName="customerSiteId">
                                                                                            <input type="number" min="0"  hidden
                                                                                                formControlName="ouId">
                                                                                            <input type="number" min="0"  hidden
                                                                                                formControlName="deptId">
                                                                                            <input type="number" min="0"  hidden
                                                                                                formControlName="locId">
                                                                                            <input type="text" hidden
                                                                                                formControlName="customerId">
                                                                                        </td>

                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle1">
                                                                                            Vehicle&nbsp;ID&nbsp;(VIN)&nbsp;:</td>
                                                                                        <td>
                                                                                            <input disabled type="text" class="form-control"
                                                                                                placeholder=""
                                                                                                formControlName="vin">
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle1">
                                                                                            OMR&nbsp;/Current&nbsp;KMS&nbsp;:</td>
                                                                                        <!-- <td>
                                                                                            <input disabled type="number"
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="lastRunKms">
                                                                                        </td> -->

                                                                                        <td>
                                                                                            <input type="number" 
                                                                                                class="form-control" 
                                                                                                formControlName="lastRunKms" [(ngModel)]="lastRunKms"   (change)="validateKm()" >
                                                                                        </td>

                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">JC Type&nbsp;:
                                                                                        </td>
                                                                                        <td>
                                                                                            <input readonly type="text" hidden
                                                                                                class="form-control" placeholder=""
                                                                                                [(ngModel)]="divisionId"
                                                                                                formControlName="divisionId">
                                                                                            <!-- <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                [(ngModel)]="divisionName"
                                                                                                formControlName="divisionName"> -->
                                                                                            <input readonly formControlName="jcType"
                                                                                                id="jcType" class="form-control">
                                                                                              <!-- <select formControlName="jcType">
                                                                                                <option ng-repeat="x in jcTypeList" value="{{x.model}}">{{x.model}}</option>
                                                                                              </select> -->
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle1">
                                                                                            Service&nbsp;Type&nbsp;:</td>
                                                                                        <td>

                                                                                            <input readonly type="text" class="form-control" placeholder="" formControlName="srTypeId">
                                                                                            <!-- <select formControlName="srTypeId"
                                                                                                id="srTypeId"
                                                                                                (ngModelChange)="onOptionsSelectedsrTypeId($event)"
                                                                                                class="form-control">
                                                                                                <option>--Select--</option>
                                                                                                <option
                                                                                                    *ngFor="let sc of  srTypeIdList"
                                                                                                    [ngValue]="sc.srTypeId">
                                                                                                    {{sc.srTypeName}}-{{sc.description}}
                                                                                                </option>
                                                                                            </select> -->
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle1">
                                                                                            Sub&nbsp;Service&nbsp;Type&nbsp;:</td>
                                                                                        <td>
                                                                                            <input readonly type="text" class="form-control" placeholder="" formControlName="subTypeId">
                                                                                            <!-- <select formControlName="subTypeId"
                                                                                                id="subTypeId" class="form-control">
                                                                                                <option>--Select--</option>
                                                                                                <option
                                                                                                    *ngFor="let sc of  SubSrTypeIdList"
                                                                                                    [ngValue]="sc.subTypeId">
                                                                                                    {{sc.subTypeName}}-{{sc.description}}
                                                                                                </option>
                                                                                            </select> -->
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle1">
                                                                                            Service&nbsp;Advisor&nbsp;:</td>
                                                                                        <td>
                                                                                            <!-- (ngModelChange)='onOptionsrvAdvisorSelected($event)' -->
                                                                                            <input disabled type="text" class="form-control" placeholder="" formControlName="srvAdvisor">
                                                                                            <!-- <select formControlName="srvAdvisor"
                                                                                                (ngModelChange)='onOptionsrvAdvisorSelected($event)'
                                                                                                id="srvAdvisor"
                                                                                                class="form-control">
                                                                                                <option>--Select--</option>
                                                                                                <option
                                                                                                    *ngFor="let sc of  srvAdvisorList"
                                                                                                    [ngValue]="sc.srvAdvisor">
                                                                                                    {{sc.srvAdvisorName}}
                                                                                                </option>
                                                                                            </select> -->
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle1">Group&nbsp;:
                                                                                        </td>
                                                                                        <td>
                                                                                            <input disabled type="text" class="form-control" placeholder="" formControlName="groupId">
                                                                                              <!-- <select formControlName="groupId"
                                                                                                id="groupId" class="form-control">
                                                                                                <option>--Select--</option>
                                                                                                <option
                                                                                                    *ngFor="let sc of  groupIdList"
                                                                                                    [ngValue]="sc.teamId">
                                                                                                    {{sc.teamName}}-{{sc.teamDesc}}
                                                                                                </option>
                                                                                            </select> -->
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Bay&nbsp;Code&nbsp;:</td>
                                                                                        <td>
                                                                                            <input disabled type="text" class="form-control"
                                                                                                placeholder=""
                                                                                                formControlName="bayTyId">
                                                                                        </td>
                                                                                        <td></td>
                                                                                        <td>
                                                                                            <button data-toggle="modal"
                                                                                                class="btn btn-primary"
                                                                                                data-target="#exampleModalScrollable"
                                                                                                style="width: 140px;">Additional
                                                                                                Details</button>
                                                                                        </td>

                                                                                        <!-- <td style="width: 15%"
                                                                                            class="LabelFontStyle">&nbsp;</td>
                                                                                        <td>
                                                                                            <input type="text" hidden
                                                                                                class="form-control" placeholder="">
                                                                                        </td> -->
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">Technician&nbsp;:
                                                                                        </td>
                                                                                        <td>
                                                                                            <input disabled type="text" class="form-control"
                                                                                                placeholder=""
                                                                                                formControlName="techId">
                                                                                            <!-- <select formControlName="techId"
                                                                                                id="techId"
                                                                                                (ngModelChange)="technician($event)"
                                                                                                class="form-control">
                                                                                                <option>--Select--</option>
                                                                                                <option
                                                                                                    *ngFor="let sc of  TechnicianList"
                                                                                                    [ngValue]="sc.teamId">
                                                                                                    {{sc.description}}
                                                                                                </option>
                                                                                            </select> -->
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Tech&nbsp;Adivsor&nbsp;:</td>
                                                                                        <td>
                                                                                            <input disabled type="text" class="form-control"
                                                                                                placeholder="" formControlName="techAdvisor">
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Vehicle&nbsp;Model&nbsp;:</td>
                                                                                        <td>
                                                                                            <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="mainModel">
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Vehicle&nbsp;Sale&nbsp;Date&nbsp;:
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="date" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="regDate">
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Chassis&nbsp;No&nbsp;:</td>
                                                                                        <td>
                                                                                            <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="chassisNo">
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Engine&nbsp;No&nbsp;:</td>
                                                                                        <td>
                                                                                            <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="engineNo">
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Vehicle&nbsp;Variant&nbsp;:</td>
                                                                                        <td>
                                                                                            <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="variantCode">
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">Color&nbsp;:</td>
                                                                                        <td>
                                                                                            <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="colorCode">
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Dealer&nbsp;Name&nbsp;:</td>
                                                                                        <td>
                                                                                            <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="dealerName">
                                                                                        </td>
                                                                                        <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Dealer&nbsp;Site&nbsp;:</td>
                                                                                        <td>
                                                                                            <input type="text" disabled
                                                                                                class="form-control" placeholder=""
                                                                                                formControlName="dealerSite">
                                                                                        </td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td style="width: 15%" class="LabelFontStyle"> &nbsp;Demanded&nbsp;Job&nbsp;:</td>
                                                                                        <td colspan="3"><input type="text" class="form-control" formControlName="demandJob" placeholder=""></td>
                                                                                       
                                                                                        <td style="width: 15%" class="LabelFontStyle"> Recommendation&nbsp;:</td>
                                                                                        <td colspan="3"><input type="text" class="form-control" formControlName="recomJob" placeholder=""> </td>
                                                                                          <!-- <td> <button data-toggle="modal" class="btn btn-primary" data-target="#exampleModalScrollable" style="width: fit-content;"> Details</button> </td> -->
                                                                                      
                                                                                    </tr>

                                                                                </fieldset>
                                                                                    </ng-template>
                                                                    <tr>
                                                                        <table>
                                                                            <tr>
                                                                                <td>
                                                                                    <!-- //////////////// JOB CARD PAGE1 -->
                                                                                    <fieldset class="RFS">
                                                                                        <legend id="FormsPH_LGAadhaar"
                                                                                            class="RFSL"
                                                                                            style="font-size: 10px;color: black;">
                                                                                            <b>Customer&nbsp;Details&nbsp;</b>
                                                                                        </legend>
                                                                               
                                                                                        <table>

                                                                                            <tr>
                                                                                                <td style="width: 15%" class="LabelFontStyle">
                                                                                                    &nbsp;Name:&nbsp;</td>
            
                                                                                                    <td>
                                                                                                        <input type="text" disabled class="form-control"
                                                                                                            formControlName="custName" [(ngModel)]="custName"
                                                                                                            placeholder="" style="width: 360px;">
                                                                                                    </td>
            
                                                                                                    <td style="width: 15%" class="LabelFontStyle">
                                                                                                        Cust&nbsp;No:&nbsp;</td>
            
                                                                                                <td>
                                                                                                    <input disabled type="text" class="form-control" placeholder=""
                                                                                                        formControlName="accountNo" [(ngModel)]="accountNo"
                                                                                                        (keydown.tab)="accountNoSearchfn1(accountNo)"  >
                                                                                                      
                                                                                                    <input type="text" hidden formControlName="customerId">
                                                                                                </td>
                                                                                            </tr>
            
            
            
                                                                                                <tr>
            
                                                                                                    <td style="width: 15%"
                                                                                                            class="LabelFontStyle">
                                                                                                            Bill&nbsp;To:&nbsp;
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input type="text"
                                                                                                                disabled
                                                                                                                class="form-control"
                                                                                                                placeholder=""
                                                                                                                formControlName="billToAddress" style="width: 360px;">
                                                                                                        </td>
                                                                                                        <td style="width: 15%"
                                                                                                            class="LabelFontStyle">
                                                                                                            Mobile:&nbsp;
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input type="text"
                                                                                                                disabled
                                                                                                                class="form-control"
                                                                                                                placeholder=""
                                                                                                                formControlName="contact1" >
                                                                                                        </td>
                                                                                                    
                                                                                                </tr>
                                                                                                <tr>
                                                                                                   <td style="width: 15%"
                                                                                                        class="LabelFontStyle">
                                                                                                        Ship&nbsp;To:&nbsp;
                                                                                                    </td>
                                                                                                    <td>
                                                                                                        <input type="text"
                                                                                                            disabled
                                                                                                            class="form-control"
                                                                                                            placeholder=""
                                                                                                            formControlName="shipToAddress" style="width: 360px;">
                                                                                                    </td>
                                                                                                       
            
                                                                                                        <td style="width: 15%" class="LabelFontStyle">
                                                                                                            &nbsp;Type:&nbsp;</td>
                                                                                                        <td><input type="text" disabled formControlName="custType"
                                                                                                                [(ngModel)]="custType" class="form-control" >
                                                                                                       </td>
                                                                                                    </tr>
            
                                                                                                    <tr>
                                                                                                     <td style="width: 15%"
                                                                                                        class="LabelFontStyle">
                                                                                                        Email:&nbsp;</td>
                                                                                                    <td>
                                                                                                        <input type="text"
                                                                                                            disabled
                                                                                                            class="form-control"
                                                                                                            placeholder=""
                                                                                                            formControlName="emailId" style="width: 250px;">
                                                                                                    </td>

                                                                                                    <td style="width: 15%"
                                                                                                    class="LabelFontStyle">
                                                                                                    DMS&nbsp;Cust&nbsp;No:&nbsp;</td>
                                                                                                <td>
                                                                                                    <input type="text"
                                                                                                        disabled
                                                                                                        class="form-control"
                                                                                                        placeholder=""
                                                                                                        formControlName="dmsCustId" >
                                                                                                </td>
                                                                                                    </tr>
                                                                                         </table>
            


                                                                                    </fieldset>
                                                                                </td>

                                                                                <td>
                                                                                    <fieldset class="RFS">
                                                                                        <legend id="FormsPH_LGAadhaar"
                                                                                            class="RFSL"
                                                                                            style="font-size: 10px;color: black;">
                                                                                            <b>
                                                                                                Billing - &nbsp;Customer&nbsp;</b>
                                                                                        </legend>

                                                                                        <table>

                                                                                            <tr>
                                                                                                <td style="width: 15%" class="LabelFontStyle">
                                                                                                    &nbsp;Name:&nbsp;</td>
            
                                                                                                    <td>
                                                                                                        <input type="text" disabled class="form-control"
                                                                                                            formControlName="bName" [(ngModel)]="bName"
                                                                                                            placeholder="" style="width: 360px;">
                                                                                                    </td>
            
                                                                                                    <td style="width: 15%" class="LabelFontStyle">
                                                                                                        Cust&nbsp;No:&nbsp;</td>
            
                                                                                                <td>
                                                                                                    <input disabled type="text" class="form-control" placeholder=""
                                                                                                        formControlName="bCustAcct" [(ngModel)]="bCustAcct">
                                                                                                      
                                                                                                      
                                                                                                    <input type="text" hidden formControlName="bcustomerId">
                                                                                                </td>
                                                                                            </tr>
            
            
            
                                                                                                <tr>
            
                                                                                                    <td style="width: 15%"
                                                                                                            class="LabelFontStyle">
                                                                                                            Address:&nbsp;
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input type="text"
                                                                                                                disabled
                                                                                                                class="form-control"
                                                                                                                placeholder=""
                                                                                                                formControlName="bAdd" style="width: 360px;">
                                                                                                        </td>
                                                                                                        <td style="width: 15%"
                                                                                                            class="LabelFontStyle">
                                                                                                            Mobile:&nbsp;
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <input type="text"
                                                                                                                disabled
                                                                                                                class="form-control"
                                                                                                                placeholder=""
                                                                                                                formControlName="bContNo" >
                                                                                                        </td>
                                                                                                    
                                                                                                </tr>
                                                                                                <tr>
                                                                                                   <td style="width: 15%"
                                                                                                        class="LabelFontStyle">
                                                                                                        Gst&nbsp;No:&nbsp;
                                                                                                    </td>
                                                                                                        <td>
                                                                                                        <input type="text"
                                                                                                            disabled
                                                                                                            class="form-control"
                                                                                                            placeholder=""
                                                                                                            formControlName="bGstNo" >
                                                                                                        </td>
                                                                                                       
            
                                                                                                        <td style="width: 15%" class="LabelFontStyle">
                                                                                                            &nbsp;Type:&nbsp;</td>
                                                                                                        <td><input type="text" disabled formControlName="bCustType"
                                                                                                                [(ngModel)]="bCustType" class="form-control" >
                                                                                                       </td>
                                                                                                    </tr>
            
                                                                                                    <tr>
                                                                                                     <td style="width: 15%"
                                                                                                        class="LabelFontStyle">
                                                                                                        Email:&nbsp;</td>
                                                                                                    <td>
                                                                                                        <input type="text"
                                                                                                            disabled
                                                                                                            class="form-control"
                                                                                                            placeholder=""
                                                                                                            formControlName="bEmail" style="width: 250px;">
                                                                                                    </td>

                                                                                                    <td style="width: 15%"
                                                                                                        class="LabelFontStyle">
                                                                                                        Valid&nbsp;Upto&nbsp;
                                                                                                    </td>
                                                                                                    <td>
                                                                                                        <input disabled type="date"
                                                                                                            class="form-control"
                                                                                                            [(ngModel)]="validTillDt"
                                                                                                            placeholder=""
                                                                                                            formControlName="validTillDt">
                                                                                                    </td>
                                                                                                    </tr>
                                                                                                   
                                                                                         </table>
                                                                                      


                                                                                    </fieldset>
                                                                                </td>
                                                                            </tr>
                                                                        </table>

                                                                    </tr>


                                                                    <fieldset class="RFS">
                                                                        <legend id="FormsPH_LGAadhaar" class="RFSL"
                                                                            style="font-size: 10px;color: black;">
                                                                            <b>Pickup&nbsp;</b>
                                                                        </legend>

                                                                        <tr>
                                                                            <td style="width: 15%"
                                                                                class="LabelFontStyle">
                                                                                Free&nbsp;Pickup&nbsp;:</td>

                                                                            <!-- <td>
                                                                                <input type="text" class="form-control"
                                                                                    placeholder=""
                                                                                    formControlName="freePickup">
                                                                            </td> -->
                                                                            <!-- [(ngModel)]="freePickup" -->
                                                                            <td>
                                                                                <select formControlName="freePickup" id="freePickup" 
                                                                                (ngModelChange)="onFreePickupSelected($event)" class="form-control"  style="background-color: yellow;">
                                                                                <option value="Yes">Yes</option>
                                                                                <option value="No">No</option>
                                                                                </select>
                                                                            </td>

                                                                            <td style="width: 15%"
                                                                                class="LabelFontStyle">
                                                                                Pick&nbsp;up&nbsp;Type&nbsp;:</td>
                                                                            <td>
                                                                                <!-- [(ngModel)]="pickupType" -->
                                                                                <!-- <input type="text" class="form-control" placeholder=""  formControlName="pickupType"> -->
                                                                                <select formControlName="pickupType"  
                                                                                    id="pickupType"
                                                                                    class="form-control">
                                                                                    <option></option>
                                                                                    <option
                                                                                        *ngFor="let sc of  pickupTypeList">
                                                                                        {{sc.codeDesc}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>
                                                                            <td style="width: 15%"
                                                                                class="LabelFontStyle">
                                                                                Pickup&nbsp;Date&nbsp;:</td>
                                                                            <td>
                                                                                <!-- max="{{minDate | date:'yyyy-MM-dd'}}" -->
                                                                                <!-- <input type="date" class="form-control"
                                                                                    placeholder=""
                                                                                    formControlName="pickupDate" [(ngModel)]="pickupDate" (change)="validatePickupDate()" > -->
                                                                                    <input type="date" class="form-control"
                                                                                    placeholder=""
                                                                                    formControlName="pickupDate" [(ngModel)]="pickupDate" (change)="validatePickupDate()" >
                                                                            </td>
                                                                           

                                                                            <td style="width: 15%" class="LabelFontStyle1"> Promise&nbsp;Date&nbsp;/&nbsp;Time&nbsp;: </td>
                                                                            <td> <input type="date" class="form-control"  placeholder="" formControlName="promiseDate" [(ngModel)]="promiseDate" (change)="validatePromisedDate()"  min="{{minDate | date:'yyyy-MM-dd'}}" style="background-color: yellow;"></td>
                                                                        
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="width: 15%"
                                                                                class="LabelFontStyle">Driver&nbsp;:</td>
                                                                            <td>
                                                                                <input type="text" class="form-control"
                                                                                    placeholder=""
                                                                                    formControlName="driverName"  >
                                                                            </td>
                                                                            <td style="width: 15%"
                                                                                class="LabelFontStyle">
                                                                                Pickup&nbsp;Remark&nbsp;:</td>
                                                                            <td>
                                                                                <input type="text" class="form-control"
                                                                                    placeholder=""
                                                                                    formControlName="pickupRemark" >
                                                                            </td>

                                                                            <td style="width: 15%"
                                                                            class="LabelFontStyle">
                                                                            Pickup&nbsp;Location&nbsp;:</td>
                                                                        <td>
                                                                            <input type="text" class="form-control"
                                                                                placeholder=""
                                                                                formControlName="pickupLoc" >
                                                                        </td>

                                                                             
                                                                        </tr>
                                                                    </fieldset>
                                                                    <fieldset class="RFS">
                                                                        <legend id="FormsPH_LGAadhaar" class="RFSL"
                                                                            style="font-size: 10px;color: black;">
                                                                            <b> Other Details&nbsp;</b>
                                                                        </legend>
                                                                        <table class="center">
                                                                        <tr>

                                                                            <!-- <td>
                                                                                <button type="butt on"
                                                                                    class="btn btn-primary"
                                                                                    style="width: 8rem;">Estimated
                                                                                    Labor</button>
                                                                            </td> -->

                                                                            <div *ngIf="fscCouponStatus; then fscYes; else fscNo"></div>
                                                                            <ng-template #fscYes>
                                                                                <td style="width: 15%" class="LabelFontStyle"> FSC&nbsp;Coupon&nbsp;No&nbsp;: </td>
                                                                                <td> <input type="text" class="form-control"  placeholder="Fsc Coupon No." formControlName="fscCoupon" [(ngModel)]="fscCoupon"  ></td>
                                                                            </ng-template>
                                                                            <ng-template #fscNo></ng-template>

                                                                            <td style="width: 15%"  class="LabelFontStyle">
                                                                                Est.&nbsp;Labour:&nbsp;
                                                                            </td>

                                                                            <td>
                                                                                <input type="number"   formControlName="estLabor" [(ngModel)]="estLabor"
                                                                                    class="form-control" placeholder="" (change) ="validateEstAmt()">
                                                                            </td>

                                                                            <!-- <td>
                                                                                <button type="butt on"
                                                                                    class="btn btn-primary"
                                                                                    style="width: 8rem;">Estimated
                                                                                    Material</button>
                                                                            </td> -->

                                                                            <td style="width: 15%"  class="LabelFontStyle">
                                                                                Est.&nbsp;Material:&nbsp;
                                                                            </td>

                                                                            <td>
                                                                                <input type="number"  formControlName="estMaterial" [(ngModel)]="estMaterial"
                                                                                    class="form-control" placeholder="" (change) ="validateEstAmt()">
                                                                            </td>
                                                                            <td style="width: 15%"
                                                                                class="LabelFontStyle">
                                                                                Est.&nbsp;Total&nbsp;:</td>
                                                                            <td>
                                                                                <input type="number" disabled formControlName="estTotal" [(ngModel)]="estTotal"
                                                                                    class="form-control" placeholder="">
                                                                            </td>

                                                                          
                                                                            <!-- <td>
                                                                                <input type="datetime-local" class="form-control" style="width: fit-content;"
                                                                                    placeholder="" formControlName="promiseDate" [(ngModel)]="promiseDate" min="{{minDatetime}}">
                                                                            </td> -->
                                                                          
                                                                        </tr>
                                                                    </table>
                                                                    </fieldset>

                                                                </table>
                                                                <table class="center">
                                                                    <tr>
                                                                    <div *ngIf="dispButtonStatus; then B1; else B2"></div>
                                                                     <ng-template #B1>
                                                                        <td> <button type="button"
                                                                                class="btn btn-primary"
                                                                                (click)="saveArInvoice()"
                                                                                style="width: 5rem;">Save</button></td>
                                                                    </ng-template>
                                                                    <ng-template #B2>
                                                                        <div *ngIf="updateButton; then UR1; else UR2"></div>
                                                                        <ng-template #UR1>
                                                                        <td> <button   type="button"
                                                                                class="btn btn-primary" style="width: 5rem;"
                                                                                (click)="updateArInvoice()">Update</button></td>
                                                                              
                                                                        </ng-template>
                                                                        <ng-template #UR2></ng-template>


                                                                    </ng-template>
                                                                                                                                             
                                                                        <td>
                                                                            <button type="button"
                                                                                class="btn btn-primary" style="width: 5rem;"
                                                                                (click)="clearFormArray()">Reset</button>
                                                                                
                                                                        </td>
                                                                        <td>
                                                                            <button type="button" style="width: 5rem;"
                                                                                class="btn btn-primary" id="register"
                                                                                (click)="closeMast()">Close</button>
                                                                        </td>

                                                                        <div *ngIf="cancelButton; then CancelYes; else CancelNo"></div>
                                                                        <ng-template #CancelYes>
                                                                        <!-- <td>   <button type="submit"  class="btn btn-primary" id="register" (click)="cancelJobNo()">Cancel</button> </td> -->
                                                                               
                                                                            <button type="button" class="btn btn-primary" id="cancBtn" data-toggle="modal"  style="width: 5rem;"
                                                                            data-target="#confirmAlert" (click)="getMessage('Cancel')" >Cancel</button>

                                                                        </ng-template>
                                                                        <ng-template #CancelNo>
                                                                                <button disabled type="button" class="btn btn-primary" id="cancBtn" data-toggle="modal" style="width: 5rem;"
                                                                                data-target="#confirmAlert" (click)="getMessage('Cancel')" >Cancel</button>
                        
                                                                        </ng-template>



                                                                        <div
                                                                        *ngIf="dispReadyInvoice; then thenBlockRFI; else elseBlockRFI">
                                                                    </div>
                                                                    <ng-template #thenBlockRFI>
                                                                        <td>
                                                                            <button type="button"
                                                                                class="btn btn-primary"
                                                                                style="width: fit-content;"
                                                                                (click)="jobCardStatusClose()"
                                                                                id="register">Ready for invoice</button>
                                                                        </td>
                                                                    </ng-template>
                                                                    <ng-template #elseBlockRFI>
                                                                        <!-- <td>
                                                                            <button disabled type="submit"
                                                                                class="btn btn-primary"
                                                                                style="width: fit-content;"
                                                                                (click)="jobCardStatusClose()"
                                                                                id="register">Ready for invoice</button>
                                                                        </td> -->
                                                                    </ng-template>


                                                                    <div *ngIf="showBodyshopCustomer; then dpcustYes; else dpcustNo"></div>
                                                                    <ng-template #dpcustNo>

                                                                    <div *ngIf="preInvButton; then Pre1; else Pre2"></div>
                                                                    <ng-template #Pre1>
                                                                        <td><button  type="button" class="btn btn-primary"   style="width: fit-content;" id="register" (click)="printPreInvoice()" >Pre-Invoice</button> </td>
                                                                    </ng-template>
                                                                    <ng-template #Pre2>
                                                                        <!-- <td><button  disabled type="submit" class="btn btn-primary"   style="width: fit-content;" id="register" (click)="printPreInvoice()" >Pre-Invoice</button> </td> -->
                                                                    </ng-template>
                                                                    </ng-template>
                                                                    <ng-template #dpcustYes>
                                                                        <div *ngIf="preInvButton; then Pre11; else Pre21"></div>
                                                                        <ng-template #Pre11>
                                                                            <td> <button  type="button" class="btn btn-primary" style="width: fit-content;" id="register" (click)="printPreInvoiceDp('cust')" >DP-PreInvoice(Cust)</button> </td>
                                                                            <td> <button  type="button" class="btn btn-primary" style="width: fit-content;" id="register" (click)="printPreInvoiceDp('ins')" >DP-PreInvoice(Ins)</button> </td>
                                                                        </ng-template>
                                                                        <ng-template #Pre21></ng-template>
                                                                    </ng-template>



                                                                   </tr>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="profile-md" role="tabpanel"
                                        aria-labelledby="profile-tab-md">
                                        <div class="center">
                                            <div class="form-bg">
                                                <div class="center">
                                                    <table style="width: 100%;background-color: white;">
                                                        <tr>
                                                            <td class="PageHeader1" >
                                                                &nbsp;&nbsp;Labour&nbsp;Details&nbsp;&nbsp;{{jobCardNum}}&nbsp;&nbsp;&nbsp;&nbsp;{{regNo}}&nbsp;&nbsp;&nbsp;&nbsp;{{jobStatus}}
                                                            </td>
                                                        </tr>
                                                    </table>
                                                    <table class="center">
                                                        <tr>

                                                            <div *ngIf="saveLabButton; then L1; else L2"></div>
                                                            <ng-template #L1>
                                                                <td>
                                                                <button type="button" class="btn btn-primary" (click)="saveLine()" style="width: 8rem;">Save Labour</button>
                                                                </td>
                                                            </ng-template>
                                                            <ng-template #L2>
                                                                <td>
                                                                <button disabled type="button" class="btn btn-primary" (click)="saveLine()" style="width: 8rem;">Save Labour</button>
                                                                </td>
                                                            </ng-template>
                                                        </tr>
                                                    </table>
                                                    <!-- <div class="center" style="width: 100%;"> -->
                                                    <!-- <div formArrayName="jobCardLabLines"> -->
                                                    <fieldset class="RFS">
                                                    <!-- <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 12px;color: black;font-weight: bold;">Find Job Card</legend> -->
                                                    <div class="grid_scroll">
                                                        <table class="GridFont" cellspacing="0" cellpadding="4" border="0" style="width:100%; border-collapse:collapse;">
                                                            <thead>
                                                                <tr class="GridHeader">
                                                                    <th scope="col">Sr. no</th>
                                                                    <!-- <th scope="col">Id</th> -->
                                                                    <th scope="col">Billable Type</th>
                                                                    <th scope="col">Labour Item</th>
                                                                    <th scope="col">&nbsp;</th>
                                                                    <!-- <th scope="col">Uom</th> -->
                                                                    <th scope="col">Description</th>
                                                                    <th scope="col">Gen</th>
                                                                    <th scope="col">Tax Category</th>
                                                                    <th scope="col">Quantity</th>
                                                                    <th scope="col">Unit Price</th>
                                                                    <th scope="col">Basic Amt</th>
                                                                    <th scope="col">Tax Amt</th>
                                                                    <th scope="col">Total Amt</th>
                                                                    <div *ngIf="dispSplitRatio; then splt1; else splt2"> </div>
                                                                    <ng-template #splt1>
                                                                        <th scope="col">Split Ratio</th>
                                                                        <th scope="col">Customer</th>
                                                                        <th scope="col">Insurer</th>
                                                                        <th scope="col">Dealer</th>
                                                                        <th scope="col">OEM</th>
                                                                    </ng-template>
                                                                    <ng-template #splt2></ng-template>
                                                                    <th scope="col">FRM Hrs</th>
                                                                    <th scope="col">Technician</th>
                                                                    <th scope="col">Split</th>
                                                                    <th scope="col">Tech+</th>
                                                                    <th scope="col">Row+</th>
                                                                    <th scope="col">Row-</th>
                                                                </tr>
                                                            </thead>
                                                            <ng-container formArrayName="jobCardLabLines">
                                                                <ng-container
                                                                    *ngFor="let group of lineDetailsArray.controls; let i= index"
                                                                    [formGroupName]="i" class="auto-style5">
                                                                    <tbody>
                                                                        <tr>
                                                                          <td><input disabled type="text" formControlName="lineNum"  class="form-control"  style="width:2rem"> </td>
                                                                          <!-- <td><input disabled type="number" formControlName="billableTyId" class="form-control"  style="height: 25px;width: 2rem;"> </td> -->
                                                                      
                                                                            <td>
                                                                                <input type="number"  hidden  formControlName="billableTyId"  class="form-control"  style="height: 25px;">
<!--                                                                                
                                                                                <select formControlName="billableTyId"  id="billableTyId"   style="width: fit-content;"  class="form-control"  >
                                                                                    <option
                                                                                    *ngFor="let sc of  billableTyIdList"  [selected]="sc.billableTyName===Customer" [ngValue]=sc.billableTyId> 
                                                                                        {{sc.billableTyName}}
                                                                                     </option>
                                                                                </select> -->

                                                                                <select formControlName="billableTyId"  id="billableTyId"   style="width: fit-content;"  class="form-control" >
                                                                                    <option></option>
                                                                                    <option
                                                                                    *ngFor="let sc of  billableTyIdList" [selected]="sc.billableTyId===1"  [(ngValue)]=sc.billableTyId> 
                                                                                        {{sc.billableTyName}}
                                                                                     </option>
                                                                                </select>
                                                                                <!-- (ngModelChange)="onBillableTypeSelect($event, i)" -->

                                                                                </td>
                                                                             
                                                                          
                                                                            <!-- <td>
                                                                                <select formControlName="itemId"
                                                                                    id="itemId"
                                                                                    (ngModelChange)="serchByitemId($event, i)"
                                                                                    class="form-control">
                                                                                    <option>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  LaborItemList"
                                                                                        [ngValue]="sc.itemId">
                                                                                        {{sc.segment}}
                                                                                    </option>
                                                                                </select>
                                                                            </td> -->

                                                                            <div *ngIf="openStatus; then opnYes; else opnNo"> </div>
                                                                            <ng-template #opnYes>
                                                                                <td><input  type="text" formControlName="segment" value={{segment}}
                                                                                    (keyup)="getInvItemId($event)" id="invItemIdFirstWay"  
                                                                                    list="dynmicUserIds1" class="form-control"  style="width: 8rem;"
                                                                                    (change)="serchByitemId(segment,i)" />
                                                                                    <datalist id="dynmicUserIds1">
                                                                                        <option *ngFor="let item of LabourItemList" [ngValue]="item.segment">
                                                                                                {{item.segment}}
                                                                                        </option>
                                                                                    </datalist> 
                                                                                </td>  
                                                                            </ng-template>
                                                                            <ng-template #opnNo>
                                                                                <td><input  disabled type="text" formControlName="segment" value={{segment}}
                                                                                    (keyup)="getInvItemId($event)" id="invItemIdFirstWay"
                                                                                    list="dynmicUserIds1" class="form-control"  style="width: 8rem;"
                                                                                    (change)="serchByitemId(segment,i)" />
                                                                                    <datalist id="dynmicUserIds1">
                                                                                        <option *ngFor="let item of LabourItemList" [ngValue]="item.segment">
                                                                                                {{item.segment}}
                                                                                        </option>
                                                                                    </datalist> 
                                                                                </td>  
                                                                            </ng-template>

                                                                        
                                                                            <input hidden  type="number"  formControlName="itemId"  class="form-control" style="width: 50px;"  >
                                                                        
                                                                             <!-- <td><input disabled  type="text"  formControlName="uom"  class="form-control" style="width: 50px;"  ></td> -->
                                                                           
                                                                             <div *ngIf="saveLabButton; then searchY; else searchN"></div>
                                                                             <ng-template #searchY>
                                                                                 <td><button  type="button" style="width: fit-content;height: 23px;" class="btn btn-info1" data-toggle="modal" data-target="#itemDetails" (click)="getTrans(i)">...</button></td>
                                                                             </ng-template>
                                                                             <ng-template #searchN>
                                                                                <td><button disabled type="button" style="width: fit-content;height: 23px;" class="btn btn-info1" data-toggle="modal" data-target="#itemDetails" (click)="getTrans(i)">...</button></td>
                                                                            </ng-template>

                  
                                                                            <div *ngIf="dispSplitRatio; then splt11; else splt21"> </div>
                                                                            <ng-template #splt11>
                                                                                <!-- <div *ngIf="genericItemLab; then genYes1; else genNo1"> </div>
                                                                                <ng-template #genYes1> -->
                                                                                     <td><input  type="text" formControlName="description"  class="form-control"  style="height: 25px;"  > </td>
                                                                                <!-- </ng-template>
                                                                                <ng-template #genNo1>
                                                                                     <td><input disabled type="text" formControlName="description"  class="form-control"  style="height: 25px;"> </td>
                                                                               </ng-template> -->
                                                                            
                                                                            </ng-template>
                                                                            <ng-template #splt21>
                                                                                <!-- <div *ngIf="genericItemLab; then genYes2; else genNo2"> </div>
                                                                                <ng-template #genYes2> -->
                                                                                     <td><input  type="text" formControlName="description"  class="form-control"  style="height: 25px; width:300px" ></td>
                                                                               <!-- </ng-template>
                                                                               <ng-template #genNo2>
                                                                                    <td><input disabled type="text" formControlName="description"  class="form-control"  style="height: 25px; width:350px" ></td>
                                                                              </ng-template> -->
                                                                           </ng-template>



                                                                            <td><input disabled type="text" formControlName="genericItem"  class="form-control"  style="height: 25px; width:30px"   ></td>


                                                                          
                                                                                <!-- <select formControlName="taxCategoryName"
                                                                                    style="width: 170px;"
                                                                                    id="taxCategoryName"
                                                                                    (ngModelChange)='onOptionTaxCatSelected(i, $event)'
                                                                                    class="form-control">
                                                                                    <option>--Select--</option>
                                                                                    <option *ngFor="let sc of  taxCategoryList" [value]="sc.taxCategoryName">
                                                                                        {{sc.taxCategoryName}}
                                                                                    </option>
                                                                                </select> -->

                                                                                <input hidden  type="text"  formControlName="taxCategoryId"  style="width: 170px;"  id="taxCategoryId"  class="form-control">
                                                                                <td> <input  disabled type="text" formControlName="taxCategoryName"  class="form-control" style="height: 25px;"></td>

                                                                                <input hidden  type="number" disabled formControlName="taxPer"   class="form-control" style="width: 3rem; height: 25px; text-align: center;"> 

                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                    formControlName="qty"  
                                                                                    (change)="onKey(i)"    class="form-control" style="width: 3rem; height: 25px; text-align: right;">
                                                                            </td>

                                                                          
                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                    class="form-control" disabled formControlName="unitPrice" (change)="onKey(i)"
                                                                                    style="height: 25px; width: 4rem;  text-align: right;">
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" min="0"  disabled  formControlName="basicAmt"
                                                                                    class="form-control"      style="width: 4rem; height: 25px; text-align: right;">
                                                                            </td>

                                                                           
                                                                                <input type="number" min="0"  hidden formControlName="custBasicAmt">
                                                                                <input type="number" min="0"  hidden formControlName="insBasicAmt">

                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                formControlName="taxAmt"
                                                                                class="form-control" disabled
                                                                                style="width: 4rem;height: 25px; text-align: right;">
                                                                            </td>

                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                    formControlName="laborAmt"
                                                                                    class="form-control" disabled
                                                                                    style="width: 4rem;height: 25px; text-align: right;">
                                                                            </td>

                                                                            <div *ngIf="dispSplitRatio; then splt1; else splt2"> </div>
                                                                            <ng-template #splt2></ng-template>
                                                                            <ng-template #splt1>
                                                                           
                                                                            <td>
                                                                                 <select formControlName="splitRatio"
                                                                                    id="splitRatio" style="width: 3rem;"
                                                                                    (ngModelChange)='onOptionsplitRatioSelect(i, $event)'
                                                                                    class="form-control">
                                                                                    <option disabled>--Select--</option>
                                                                                    <option
                                                                                        *ngFor="let sc of  splitRatioList"
                                                                                        [ngValue]="sc.splitCateId">
                                                                                        {{sc.billingNature}}
                                                                                    </option>
                                                                                </select>
                                                                            </td>
                                                                           
                                                                           

                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                    formControlName="custPer"
                                                                                    class="form-control" disabled
                                                                                    style="width: 3rem;height: 25px; text-align: right;">
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                    formControlName="insPer"
                                                                                    class="form-control" disabled
                                                                                    style="width: 3rem;height: 25px; text-align: right;">
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                    formControlName="dealerPer"
                                                                                    class="form-control" disabled
                                                                                    style="width: 3rem;height: 25px; text-align: right;">
                                                                            </td>
                                                                            <td>
                                                                                <input type="number" min="0"
                                                                                    formControlName="oemPer"
                                                                                    class="form-control" disabled
                                                                                    style="width: 3rem;height: 25px; text-align: right;">
                                                                            </td>
                                                                        </ng-template>

                                                                          
                                                                            <td><input type="number" min="0"  formControlName="frtHrs"  class="form-control" disabled style="width: 3rem;height: 25px; text-align: right;">
                                                                            </td>
                                                                            <td>
                                                                                <input type="text"
                                                                                    formControlName="techName" disabled
                                                                                    class="form-control"
                                                                                    [(ngModel)]="techName"
                                                                                    style="width: 130px;height: 25px;">
                                                                            </td>
                                                                            <td><input type="checkbox" style="text-align: center;"
                                                                                    formControlName="splitFlag"
                                                                                    (change)="splitFlagFlagFn($event)">
                                                                            </td>
                                                                            <td>
                                                                                <div *ngIf="displaySplit; then thenBlockSplit; else elseBlockSplit"></div>
                                                                                
                                                                                <ng-template #thenBlockSplit>
                                                                                    <button type="button" 
                                                                                        class="btn btn-primary" data-toggle="modal" data-target="#myModel"
                                                                                        class="form-control" (click)="openCodeComb(i)"
                                                                                        style="width: min-content; text-align: center;"><i
                                                                                            class="fa fa-plus"></i></button>
                                                                                </ng-template>
                                                                                <ng-template #elseBlockSplit>
                                                                                    <button type="button"
                                                                                        class="btn btn-primary"  
                                                                                        class="form-control"   
                                                                                        style="width: min-content; text-align: center;"><i class="fa fa-plus"></i></button>
                                                                                            
                                                                                </ng-template>
                                                                            </td>

                                                                            <div *ngIf="saveLabButton; then AD1; else AD2"></div>
                                                                            <ng-template #AD1>
                                                                            <td><button type="button" class="btn btn-primary"  (click)="addRow(i)" (keydown.shift.arrowdown)="addRow(i)"
                                                                                    style="width: min-content;"><i class="fa fa-plus"></i></button>
                                                                            </td>
                                                                            <td><button type="button"  class="btn btn-primary" (click)="RemoveRow(i)"
                                                                                    style="width: min-content;"><i class="fa fa-trash"></i></button>
                                                                            </td>
                                                                            </ng-template>
                                                                            <ng-template #AD2>
                                                                                <td><button disabled type="button" class="btn btn-primary"  (click)="addRow(i)" (keydown.shift.arrowdown)="addRow(i)"
                                                                                        style="width: min-content;"><i class="fa fa-plus"></i></button>
                                                                                </td>
                                                                                <td><button disabled type="button"  class="btn btn-primary" (click)="RemoveRow(i)"
                                                                                        style="width: min-content;"><i class="fa fa-trash"></i></button>
                                                                                </td>
                                                                            </ng-template>



                                                                        </tr>

                                                                    </tbody>
                                                                </ng-container>
                                                            </ng-container>
                                                        </table>
                                                    </div>
                                                    </fieldset>
                                                    <table>
                                                        <tr>
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;LABOUR&nbsp;TOTAL:&nbsp;&nbsp;&nbsp;CUSTOMER:&nbsp;&nbsp;&nbsp;
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Basic&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labCustBasTotal | number:'0.00'}}</td>
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Discount&nbsp;:&nbsp;</td>    <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labCustDisTotal | number:'0.00'}}</td>
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Taxable&nbsp;:&nbsp;</td>     <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labCustSubTotal | number:'0.00'}}</td> 
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Tax&nbsp;:&nbsp;</td>         <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labCustTaxTotal | number:'0.00'}}</td>
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Total&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labCustNetTotal | number:'0.00'}}</td> 
                                                       
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;INSURANCE:&nbsp;&nbsp;&nbsp;
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Basic&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labInsBasTotal | number:'0.00'}}</td>
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Discount&nbsp;:&nbsp;</td>    <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labInsDisTotal | number:'0.00'}}</td>
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Taxable&nbsp;:&nbsp;</td>     <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labInsSubTotal | number:'0.00'}}</td> 
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Tax&nbsp;:&nbsp;</td>         <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labInsTaxTotal | number:'0.00'}}</td>
                                                            <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Total&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.labInsNetTotal | number:'0.00'}}</td> 
                                                        </tr>

                                                    </table>

                                                   


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="contact-md" role="tabpanel"
                                        aria-labelledby="contact-tab-md">
                                        <div class="center">
                                            <div class="form-bg">
                                                <!-- <div class="center"> -->
                                                <table style="width: 100%;background-color: white;">
                                                    <tr>
                                                        <td class="PageHeader1">
                                                            &nbsp;&nbsp;Material&nbsp;Details&nbsp;&nbsp; {{jobCardNum}}&nbsp;&nbsp;&nbsp;&nbsp;{{regNo}}&nbsp;&nbsp;&nbsp;&nbsp;{{jobStatus}} 
                                                        </td>
                                                    </tr>
                                                </table>
                                                <table class="center">
                                                    <tr>

                                                        <!-- <div *ngIf="saveMatButton; then MI1; else MI2"></div>
                                                        <ng-template #MI1>

                                                        <td>
                                                            <button type="butt on" class="btn btn-primary"
                                                                (click)="MatImptWip(jobCardNum)"
                                                                style="width: fit-content; text-align: center;">Import
                                                                Material from WIP</button>
                                                        </td>
                                                        </ng-template>
                                                        <ng-template #MI2> </ng-template> -->


                                                        <div *ngIf="saveMatButton; then M1; else M2"></div>
                                                        <ng-template #M1>
                                                            <td><button type="butt on" class="btn btn-primary" (click)="saveMaterial()" style="width: 8rem;">Save  Material</button> </td>
                                                        </ng-template>

                                                        <ng-template #M2>
                                                           <td><button disabled type="butt on" class="btn btn-primary" (click)="saveMaterial()" style="width: 8rem;">Save  Material</button>   </td>
                                                        </ng-template>

                                                        <div *ngIf="importMatButton; then imp1; else imp2"></div>
                                                        <ng-template #imp1>
                                                            <td>
                                                                <button type="butt on" class="btn btn-primary"  (click)="MatImptWip(jobCardNum)"
                                                                    style="width: fit-content; text-align: center;">Import Material from WIP</button>
                                                            </td>
                                                        </ng-template>
                                                        <ng-template #imp2>
                                                            <td>
                                                                <button disabled type="butt on" class="btn btn-primary"  (click)="MatImptWip(jobCardNum)"
                                                                    style="width: fit-content; text-align: center;">Import Material from WIP</button>
                                                            </td>
                                                        </ng-template>



                                                    </tr>
                                                </table>

                                                <fieldset class="RFS">
                                                <div class="grid_scroll">
                                                    <table class="GridFont" cellspacing="0" cellpadding="4" border="0"
                                                        style="width:100%;border-collapse:collapse;">
                                                        <thead>
                                                            <tr class="GridHeader">
                                                                <th scope="col">No.</th>
                                                                <th scope="col">Billable Type</th>
                                                                <th scope="col">Part No</th>
                                                                <th scope="col">Description</th>
                                                                <th scope="col">Tax Category</th>
                                                                <th scope="col">Quantity</th>
                                                                <th scope="col">Rate</th>
                                                                <th scope="col">Basic Amount</th>
                                                                <th scope="col">Tax Amount</th>
                                                                <th scope="col">Total Amount</th>
                                                                <div *ngIf="dispSplitRatio; then spltm1; else spltm2"> </div>
                                                                <ng-template #spltm1>
                                                                <th scope="col">Split Ratio</th>
                                                                <th scope="col">CUST</th>
                                                                <th scope="col">INS</th>
                                                                <th scope="col">DLR</th>
                                                                <th scope="col">OEM</th>
                                                                </ng-template>
                                                                <ng-template #spltm2></ng-template>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <ng-container class="center"
                                                                formArrayName="jobCardMatLines">

                                                                <ng-container
                                                                    *ngFor="let group of lineDistributionArray().controls; let k= index"
                                                                    [formGroupName]="k" class="auto-style5">
                                                                    <tr>
                                                                        <td>
                                                                            <input type="number" min="0"  disabled
                                                                                class="form-control"
                                                                                style="width: 3rem;height: 25px;"
                                                                                formControlName="lineNum">
                                                                                <input hidden type="number" formControlName="trxLineId">
                                                                        </td>
                                                                        <td>
                                                                            <input hidden type="number" min="0"
                                                                                formControlName="billableTyId" hidden
                                                                                class="form-control"
                                                                                style="width: 160px;height: 25px;">
                                                                            <input hidden type="text"
                                                                                formControlName="billableTyName"
                                                                                class="form-control"
                                                                                style="width: 160px;height: 25px;">
                                                                            <select formControlName="billableTyId"
                                                                                id="billableTyId" class="form-control">
                                                                                <option>--Select--</option>
                                                                                <option
                                                                                    *ngFor="let sc of  billableTyIdList"
                                                                                    [ngValue]="sc.billableTyId">
                                                                                    {{sc.billableTyName}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"
                                                                                formControlName="itemId" hidden
                                                                                class="form-control"
                                                                                style="width: 160px;height: 25px;">
                                                                            <input type="text" formControlName="segment"
                                                                                disabled class="form-control"
                                                                                style="width: 160px;height: 25px;">
                                                                        </td>

                                                                        <div *ngIf="dispSplitRatio; then spltm111; else spltm211"> </div>
                                                                        <ng-template #spltm111>
                                                                        <td>
                                                                            <input type="text"
                                                                                formControlName="description" disabled
                                                                                class="form-control"
                                                                                style="width: 160px;height: 25px;">
                                                                        </td>
                                                                        <!-- (ngModelChange)='onOptionTaxCatSelected(i, $event)' -->
                                                                        <td> <select formControlName="taxCategoryId"
                                                                            id="taxCategoryId" disabled
                                                                          
                                                                            class="form-control">
                                                                            <option>--Select--</option>
                                                                            <option
                                                                                *ngFor="let sc of  taxCategoryList"
                                                                                [ngValue]="sc.taxCategoryId">
                                                                                {{sc.taxCategoryName}}
                                                                            </option>
                                                                        </select>
                                                                        <input hidden type="number" formControlName="taxCategoryId">
                                                                    </td>



                                                                        </ng-template>
                                                                        <ng-template #spltm211>
                                                                            <td>
                                                                                <input type="text"
                                                                                    formControlName="description" disabled
                                                                                    class="form-control"
                                                                                    style="width: 300px;height: 25px;">
                                                                            </td>
                                                                        
                                                                       
                                                                            <!-- (ngModelChange)='onOptionTaxCatSelected(i, $event)' -->
                                                                        <td> <select formControlName="taxCategoryId"
                                                                                id="taxCategoryId" disabled style="width: 250px;"
                                                                              
                                                                                class="form-control">
                                                                                <option>--Select--</option>
                                                                                <option
                                                                                    *ngFor="let sc of  taxCategoryList"
                                                                                    [ngValue]="sc.taxCategoryId">
                                                                                    {{sc.taxCategoryName}}
                                                                                </option>
                                                                            </select>
                                                                            <input hidden type="number" formControlName="taxCategoryId">
                                                                        </td>

                                                                    </ng-template>


                                                                        <input hidden formControlName="taxPer">
                                                                        <td>
                                                                            <input type="number" min="0"  formControlName="qty"
                                                                                disabled class="form-control"
                                                                                style="width: 3rem;height: 25px; text-align: right;">
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"
                                                                                formControlName="unitPrice" disabled
                                                                                class="form-control"
                                                                                style="width: 5rem;height: 25px; text-align: right;">
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"
                                                                                formControlName="basicAmt" disabled
                                                                                class="form-control"
                                                                                style="width: 5rem;height: 25px; text-align: right;">
                                                                        </td>

                                                                        <input type="number" min="0"  hidden formControlName="custBasicAmt">
                                                                        <input type="number" min="0"  hidden formControlName="insBasicAmt">

                                                                        <td>
                                                                            <input type="number" min="0"
                                                                                formControlName="taxAmt" disabled
                                                                                class="form-control"
                                                                                style="width: 5rem;height: 25px; text-align: right;">
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"
                                                                                formControlName="totAmt" disabled
                                                                                class="form-control"
                                                                                style="width: 5rem;height: 25px; text-align: right;">
                                                                        </td>

                                                                        <div *ngIf="dispSplitRatio; then spltm11; else spltm21"> </div>
                                                                        <ng-template #spltm11>
                                                                        <td>

                                                                            <select formControlName="splitRatio"
                                                                                id="splitRatio" style="width: 3rem;"
                                                                                (ngModelChange)='onOptionsplitRatioSelect1(k, $event)'
                                                                                class="form-control">
                                                                                <option>--Select--</option>
                                                                                <option
                                                                                    *ngFor="let sc of  splitRatioList"
                                                                                    [ngValue]="sc.splitCateId">
                                                                                    {{sc.billingNature}}
                                                                                </option>
                                                                            </select>
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"  disabled
                                                                                formControlName="custPer"
                                                                                class="form-control"
                                                                                style="width: 3rem;height: 25px; text-align: right;">
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"  disabled
                                                                                formControlName="insPer"
                                                                                class="form-control"
                                                                                style="width: 3rem;height: 25px; text-align: right;">
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"  disabled
                                                                                formControlName="dealerPer"
                                                                                class="form-control"
                                                                                style="width: 3rem;height: 25px; text-align: right;">
                                                                        </td>
                                                                        <td>
                                                                            <input type="number" min="0"  disabled
                                                                                formControlName="oemPer"
                                                                                class="form-control"
                                                                                style="width: 3rem;height: 25px; text-align: right;">
                                                                        </td>
                                                                        </ng-template>
                                                                        <ng-template #spltm21></ng-template>

                                                                    </tr>
                                                                </ng-container>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>


                                                </div>
                                                </fieldset>

                                                <table>
                                                    <tr>
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;MATERIAL&nbsp;TOTAL:&nbsp;&nbsp;&nbsp;CUSTOMER:&nbsp;&nbsp;&nbsp;
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Basic&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matCustBasTotal | number:'0.00'}}</td>
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Discount&nbsp;:&nbsp;</td>    <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matCustDisTotal | number:'0.00'}}</td>
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Taxable&nbsp;:&nbsp;</td>     <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matCustSubTotal | number:'0.00'}}</td> 
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Tax&nbsp;:&nbsp;</td>         <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matCustTaxTotal | number:'0.00'}}</td>
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Total&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matCustNetTotal | number:'0.00'}}</td> 
                                                   
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;INSURANCE:&nbsp;&nbsp;&nbsp;
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Basic&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matInsBasTotal | number:'0.00'}}</td>
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Discount&nbsp;:&nbsp;</td>    <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matInsDisTotal | number:'0.00'}}</td>
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Taxable&nbsp;:&nbsp;</td>     <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matInsSubTotal | number:'0.00'}}</td> 
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Tax&nbsp;:&nbsp;</td>         <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matInsTaxTotal | number:'0.00'}}</td>
                                                        <td class="LabelFontStyle" style="font-style: italic;">&nbsp;Total&nbsp;:&nbsp;</td>       <td  class="LabelFontStyle" style="color: blue;font-style: italic;"> {{this.matInsNetTotal | number:'0.00'}}</td> 
                                                    </tr>

                                                </table>
                                             
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="billing-md" role="tabpanel"
                                        aria-labelledby="contact-tab-md">
                                        <div class="center">
                                            <div class="form-bg">
                                                <!-- <div class="center"> -->
                                                <table style="width: 100%;background-color: white;">
                                                    <tr>
                                                        <td class="PageHeader1">
                                                            &nbsp;&nbsp;Billing&nbsp;Details&nbsp;&nbsp;{{jobCardNum}}&nbsp;&nbsp;&nbsp;&nbsp;{{regNo}}&nbsp;&nbsp;&nbsp;&nbsp;{{jobStatus}}
                                                        </td>
                                                    </tr>
                                                </table>
                                                <!-- <div *ngIf="displayCustDetails; then CustthenBlock; else InsCustelseBlock"> -->
                                                <div *ngIf="showServiceCustomer; then srBlock; else dpBlock">
                                            </div>
                                            <ng-template #srBlock>
                                                <fieldset class="RFS">
                                                    <legend id="FormsPH_LGAadhaar" class="RFSL"
                                                        style="font-size: 10px;color: black;">
                                                        <b> Billing - &nbsp;Customer&nbsp;</b>
                                                    </legend>
                                                    <tr>
                                                        <td style="width: 15%" class="LabelFontStyle">
                                                            Cust&nbsp;Name&nbsp;:</td>
                                                       
                                                            <input hidden type="text" class="form-control" placeholder=""
                                                                formControlName="accountNo" [(ngModel)]="accountNo"
                                                                (keydown.tab)="accountNoSearchfn1(accountNo)"
                                                                style="width: 5rem;">
                                                            <input type="text" hidden formControlName="customerId">
                                                        

                                                        <td>
                                                            <input type="text" disabled class="form-control"
                                                                formControlName="custName" [(ngModel)]="custName"
                                                                placeholder="" style="width: 25rem;">
                                                        </td>

                                                        <td style="width: 15%" class="LabelFontStyle">
                                                            Cust&nbsp;Type&nbsp;:</td>
                                                        <td><input type="text" disabled formControlName="custType"
                                                                [(ngModel)]="custType" class="form-control">
                                                        </td>

                                                        <td style="width: 15%" class="LabelFontStyle">GSTIN&nbsp;:</td>
                                                        <td>
                                                            <input type="text" disabled class="form-control"
                                                                class="form-control" placeholder=""
                                                                formControlName="bGstNo" [(ngModel)]=" bGstNo">
                                                        </td>

                                                       
                                                    </tr>


                                                    <tr>
                                                        <td style="width: 15%" class="LabelFontStyle">Address&nbsp;:
                                                        </td>
                                                        <td >
                                                            <input type="text" disabled class="form-control"
                                                                formControlName="billToAddress"
                                                                [(ngModel)]="billToAddress" placeholder=""
                                                                style="width: 25rem">
                                                        </td>
                                                        <td style="width: 15%" class="LabelFontStyle">Email&nbsp;:</td>
                                                        <td>
                                                            <input type="text" disabled class="form-control"
                                                                formControlName="emailId" [(ngModel)]="emailId"
                                                                placeholder="">
                                                        </td>

                                                        <td style="width: 15%" class="LabelFontStyle">
                                                            Contact&nbsp;No:&nbsp;</td>
                                                        <td>
                                                            <input type="text" disabled class="form-control"
                                                                formControlName="contact1" [(ngModel)]="contact1"
                                                                placeholder="">
                                                        </td>
                                                       
                                                       
                                                        <!-- <td style="width: 15%" class="LabelFontStyle">
                                                            GST&nbsp;Type&nbsp;:</td>
                                                        <td>
                                                            <input  type="text"disabled formControlName="bgstType" [(ngModel)]="bgstType" class="form-control" > -->
                                                                <!-- <select class="form-control">
                                                                <option value="S&C GST">S&C GST</option>
                                                                <option value="IGST">IGST</option>
                                                            </select> -->
                                                                <!-- </td> -->
                                                    </tr>
                                                    <tr>
                                                      

                                                        <td style="width: 15%" class="LabelFontStyle">
                                                            Remark&nbsp;:</td>
                                                        <td>
                                                            <input type="text" class="form-control" placeholder=""
                                                            style="width: 25rem" formControlName="remark">
                                                        </td>

                                                        <td style="width: 15%" class="LabelFontStyle">
                                                            Valid&nbsp;Till&nbsp;Date&nbsp;:</td>
                                                        <td >
                                                            <input type="date" class="form-control"
                                                                [(ngModel)]="validTillDt" disabled placeholder=""
                                                                formControlName="validTillDt">
                                                        </td>

                                                        <td style="width: 15%" class="LabelFontStyle"> Bill&nbsp;Date&nbsp;:</td>
                                                        <td> <input type="date" disabled class="form-control" formControlName="arInvDate"  value="{{arInvDate}}" style="font-weight: bolder;"> </td> 
                                                     

                                                    </tr>

                                                       <!-- <tr>
   
                                                           <td style="width: 15%" class="LabelFontStyle"> Bill&nbsp;Date&nbsp;:</td>
                                                           <td> <input type="date" disabled class="form-control" formControlName="arInvDate"  value="{{arInvDate}}" style="font-weight: bolder;"> </td> 
                                                     
                                                           <td style="width: 15%" class="LabelFontStyle">Bill&nbsp;No&nbsp;:</td>
                                                           <td> <input type="text" disabled class="form-control" formControlName="arInvNum"  value="{{arInvNum}}" style="font-weight: bolder;"> </td> 
                                                     
                                                           <td style="width: 15%" class="LabelFontStyle"> Addon&nbsp;Bill&nbsp;No&nbsp;:</td>
                                                            <td> <input type="text" disabled class="form-control" formControlName="addonInvoiceNo"  value="{{addonInvoiceNo}}" style="font-weight: bolder;"> </td> 
                                                        </tr> -->
                                                      

                                                </fieldset>
                                            </ng-template>

                                            <ng-template #dpBlock>
                                                    <table>
                                                        <tr>
                                                            <td>
                                                                <fieldset class="RFS">
                                                                    <legend id="FormsPH_LGAadhaar"
                                                                        class="RFSL"
                                                                        style="font-size: 10px;color: black;">
                                                                        <b>Customer&nbsp;Details&nbsp;</b>
                                                                    </legend>
                                                                    <table>
                                                                     
                                                                         <tr>
                                                                             <table>

                                                                                <tr>
                                                                                    <td style="width: 15%" class="LabelFontStyle">
                                                                                        &nbsp;Name:&nbsp;</td>

                                                                                        <td>
                                                                                            <input type="text" disabled class="form-control"
                                                                                                formControlName="custName" [(ngModel)]="custName"
                                                                                                placeholder="" style="width: 360px;">
                                                                                        </td>

                                                                                        <td style="width: 15%" class="LabelFontStyle">
                                                                                            Cust&nbsp;No:&nbsp;</td>

                                                                                    <td>
                                                                                        <input disabled type="text" class="form-control" placeholder=""
                                                                                            formControlName="accountNo" [(ngModel)]="accountNo"
                                                                                            (keydown.tab)="accountNoSearchfn1(accountNo)"   >
                                                                                          
                                                                                        <input type="text" hidden formControlName="customerId">
                                                                                    </td>
                                                                                </tr>



                                                                                    <tr>

                                                                                        <td style="width: 15%"
                                                                                                class="LabelFontStyle">
                                                                                                Bill&nbsp;To:&nbsp;
                                                                                            </td>
                                                                                            <td>
                                                                                                <input type="text"
                                                                                                    disabled
                                                                                                    class="form-control"
                                                                                                    placeholder=""
                                                                                                    formControlName="billToAddress" style="width: 360px;">
                                                                                            </td>
                                                                                            <td style="width: 15%"
                                                                                                class="LabelFontStyle">
                                                                                                Mobile:&nbsp;
                                                                                            </td>
                                                                                            <td>
                                                                                                <input type="text"
                                                                                                    disabled
                                                                                                    class="form-control"
                                                                                                    placeholder=""
                                                                                                    formControlName="contact1"  >
                                                                                            </td>
                                                                                            <!-- <td style="width: 15%"
                                                                                                class="LabelFontStyle">
                                                                                                DMS&nbsp;Cust&nbsp;Id&nbsp;:
                                                                                            </td>
                                                                                            <td>
                                                                                                <input type="number" min="0"
                                                                                                    disabled
                                                                                                    class="form-control"
                                                                                                    formControlName="dmsCustId">
                                                                                            </td> -->
                                                                                    </tr>
                                                                                    <tr>
                                                                                       <td style="width: 15%"
                                                                                            class="LabelFontStyle">
                                                                                            Ship&nbsp;To:&nbsp;
                                                                                        </td>
                                                                                        <td>
                                                                                            <input type="text"
                                                                                                disabled
                                                                                                class="form-control"
                                                                                                placeholder=""
                                                                                                formControlName="shipToAddress" style="width: 360px;">
                                                                                        </td>
                                                                                           

                                                                                            <td style="width: 15%" class="LabelFontStyle">
                                                                                                &nbsp;Type:&nbsp;</td>
                                                                                            <td><input type="text" disabled formControlName="custType"
                                                                                                    [(ngModel)]="custType" class="form-control"  >
                                                                                           </td>
                                                                                        </tr>

                                                                                        <tr>
<!--                                                                                            
                                                                                            <td style="width: 15%"
                                                                                                class="LabelFontStyle">
                                                                                                Contact&nbsp;No&nbsp;2:
                                                                                            </td>
                                                                                            <td>
                                                                                                <input type="text"
                                                                                                    disabled
                                                                                                    class="form-control"
                                                                                                    placeholder=""
                                                                                                    formControlName="contact2">
                                                                                            </td> -->
                                                                                        </tr>
                                                                                        <tr>
                                                                                           

                                                                                        <td style="width: 15%" class="LabelFontStyle"> Email:&nbsp;</td>
                                                                                        <td>
                                                                                            <input type="text"   disabled   class="form-control"  placeholder=""
                                                                                                formControlName="emailId" style="width: 300px;">
                                                                                        </td>
                                                                                        <td style="width: 15%" class="LabelFontStyle"> Bill&nbsp;Date&nbsp;:</td>
                                                                                        <td> <input type="date" disabled class="form-control" formControlName="arInvDate"  value="{{arInvDate}}"  style="font-weight: bolder;"> </td> 
                                                                                

                                                                                       
                                                                                    </tr>
                                                                                        <!-- <tr>
                                                                                            <td style="width: 15%" class="LabelFontStyle">Bill&nbsp;No&nbsp;:</td>
                                                                                            <td> <input type="text" disabled class="form-control" formControlName="custInvoiceNo"  value="{{custInvoiceNo}}" style="font-weight: bolder;" > </td> 
                                                                                            <td style="width: 15%" class="LabelFontStyle"> Bill&nbsp;Date&nbsp;:</td>
                                                                                            <td> <input type="date" disabled class="form-control" formControlName="arInvDate"  value="{{arInvDate}}" style="width: 120px;" style="font-weight: bolder;"> </td> 
                                                                                        </tr> -->

                                                                                      
                                                                             </table>




                                                                         </tr>
                                                                    </table>

                                                                </fieldset>
                                                            </td>
                                                            <td>
                                                                <fieldset class="RFS">
                                                                    <legend id="FormsPH_LGAadhaar"
                                                                        class="RFSL" style="font-size: 10px;color: black;"><b>Insurance&nbsp;Details&nbsp;</b></legend>
                                                                    <table>
                                                                        <tr>
                                                                            
                                                                            <td style="width: 15%" class="LabelFontStyle"> Name:&nbsp;</td>
                                                                                
                                                                            <td> <input disabled type="text"  class="form-control"
                                                                            placeholder=""   formControlName="insurerCompName" style="width: 370px;" > </td>
                                                                            <td style="width: 15%" class="LabelFontStyle"> Cust &nbsp;No:&nbsp;</td>
                                                                            <td><input disabled type="text" min="0" class="form-control"   placeholder=""  formControlName="insurerCompNo"  >  </td>
                                                                        </tr>

                                                                        <tr>
                                                                            <td style="width: 15%" class="LabelFontStyle"> Site:&nbsp;</td>
                                                                            <td> <input type="text" disabled formControlName="insurerSite" 
                                                                                class="form-control" placeholder="" style="width: 370px;"></td>
                                                                           <td style="width: 15%" class="LabelFontStyle"> GSTN:&nbsp;</td>
                                                                                
                                                                               
                                                                            <td>
                                                                                <input type="text"   disabled
                                                                                    formControlName="bGstNo" class="form-control"  placeholder=""  > </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td style="width: 15%"  class="LabelFontStyle">  Address:&nbsp;</td>
                                                                            <td> <input type="text" disabled formControlName="bAdd"   class="form-control" placeholder="" 
                                                                                style="width: 370px;"  > </td>
                                                                            <td style="width: 15%"
                                                                            class="LabelFontStyle">
                                                                            Mobile:&nbsp;
                                                                        </td>
                                                                        <td>
                                                                            <input type="text"
                                                                                disabled
                                                                                formControlName="bContNo"
                                                                                class="form-control"
                                                                                placeholder="" >
                                                                              
                                                                        </td>
                                                                           
                                                                        </tr>

                                                                        <tr>
                                                                            <td style="width: 15%"
                                                                            class="LabelFontStyle">
                                                                            Email:&nbsp;</td>
                                                                        <td>
                                                                            <input type="text"
                                                                                disabled
                                                                                formControlName="bEmail"
                                                                                class="form-control"
                                                                                placeholder="" style="width: 300px;" >
                                                                              
                                                                        </td>
                                                                          
                                                                           
                                                                            <td style="width: 15%"
                                                                            class="LabelFontStyle">
                                                                            Valid&nbsp;Upto:&nbsp;
                                                                        </td>
                                                                        <td>
                                                                            <input disabled type="date"
                                                                                class="form-control"
                                                                                placeholder=""
                                                                                formControlName="validTillDt" >
                                                                        </td>


                                                                        </tr>
                                                                        <!-- <tr>
                                                                          
                                                                            <td style="width: 15%" class="LabelFontStyle">Bill&nbsp;No&nbsp;:</td>
                                                                            <td> <input type="text" disabled class="form-control" formControlName="insInvoiceNo"  value="{{insInvoiceNo}}" style="font-weight: bolder;" > </td> 
                                                                            <td style="width: 15%" class="LabelFontStyle"> Bill&nbsp;Date&nbsp;:</td>
                                                                            <td> <input type="date" disabled class="form-control" formControlName="arInvDate"  value="{{arInvDate}}" style="width: 120px;" style="font-weight: bolder;"> </td> 
                                                                         
                                                                        </tr> -->
                                                                      
                                                                     
                                                                    </table>


                                                                </fieldset>
                                                            </td>
                                                        </tr>
                                                    </table>

                                                </ng-template>

                                                <fieldset class="RFS">
                                                    <tr>
                                                        <td style="width: 15%" class="LabelFontStyle">Estimated&nbsp;Labour&nbsp;:</td>
                                                        <td><input type="number" disabled class="form-control"  placeholder="" formControlName="estLabor"> </td>
                                                       
                                                        <td style="width: 15%" class="LabelFontStyle">Estimated&nbsp;Material&nbsp;:</td>
                                                        <td><input type="number" disabled class="form-control" placeholder="" formControlName="estMaterial"> </td>
                                                       
                                                        <td style="width: 15%" class="LabelFontStyle">Estimated&nbsp;Total&nbsp;:</td>
                                                        <td><input type="number" disabled class="form-control"  placeholder="" formControlName="estTotal"></td>
                                                      
                                                        <td style="width: 15%" class="LabelFontStyle"> Variation&nbsp;Reason(if&nbsp;any):</td>
                                                           
                                                        <td colspan="2">
                                                            <select class="form-control" formControlName="variReason"  >
                                                                <option value="Regular">Reason1</option>
                                                                <option value="Re-Insurance coupon">Reason2</option>
                                                            </select>
                                                        </td>
                                                    </tr>
                                                </fieldset>


                                                    <fieldset class="RFS">
                                                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;"><b> Bill Details</b> </legend>
                                                        <table class="auto-style4" class="GridFont" cellspacing="0"
                                                            cellpadding="4" border="0" id="ctl00_cpForm_grdActions"
                                                            style="border-color:#959595;width:100%;border-collapse:collapse;">
                                                            <thead>
                                                                <tr class="GridHeader">
                                                                   <th scope="col">Billable Type</th>
                                                                   <th scope="col" style="text-align: left;">Bill No&nbsp;&nbsp;</th>

                                                                    <th scope="col" style="text-align: right;">Actual Labour&nbsp;&nbsp;</th>
                                                                    <!-- <th scope="col" style="text-align: right;">Lab Dis%</th> -->
                                                                    <th scope="col" style="text-align: right;">Labour Disount&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Labour Taxable&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Labour Tax Amt&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Labour Total&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Actual Material&nbsp;&nbsp;</th>
                                                                    <!-- <th scope="col" style="text-align: right;">Mat Dis%</th>    -->
                                                                    <th scope="col" style="text-align: right;">Material Disount&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Material Taxable&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Material Tax&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Material Total&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: right;">Total Amount&nbsp;&nbsp;</th>
                                                                    <th scope="col" style="text-align: center;">Print&nbsp;&nbsp;</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>

                                                                <tr class="ItemStyle" style="text-decoration:none;">

                                                                    <td style="width: 10em;text-align: center;" class="LabelFontStyle" >Customer&nbsp;</td>
                                                                    <div *ngIf="showBodyshopCustomer; then bsBill; else srBill"></div>
                                                                    <ng-template #srBill>
                                                                        <td><input disabled type="text" formControlName="arInvNum"  [(ngValue)]="arInvNum" value={{arInvNum}}  style="width: 9em;font-weight: bold;font-size: small;" ></td>
                                                                    </ng-template>
                                                                    <ng-template #bsBill>
                                                                        <td><input disabled type="text" formControlName="custInvoiceNo" [(ngValue)]="custInvoiceNo" value="{{custInvoiceNo}}"  style="width: 9em;font-weight: bold;font-size: small;" ></td>
                                                                    </ng-template>

                                                                    <td><input disabled type="number" formControlName="labBasicAmt"   style="width: 7em;font-weight: bold;font-size: small;text-align: right;" ></td>
                                                                    
                                                                    <div *ngIf="showServiceCustomer ;then sr1; else sr2"></div>
                                                                    <ng-template #sr1>
                                                                        <!-- <td><input  disabled type="number"   min="0"     formControlName="labDiscountPer"  class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                        <td><input disabled  type="number"   min="0"     formControlName="labDiscount" class="form-control" (change)="labDiscountAmtCal($event,1)" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                    </ng-template>
                                                                    <ng-template #sr2>
                                                                        <!-- <td><input disabled type="number"   min="0"  formControlName="labDiscountPer"  class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                        <td><input disabled type="number"   min="0"  formControlName="labDiscount" class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                    
                                                                    </ng-template>  
                                                                    
                                                                    <td><input disabled type="number" min="0"  formControlName="labTaxableAmt"  style="width: 7em;font-weight: bold;font-size: small;"    ></td>
                                                                    <td><input disabled type="number" min="0"  formControlName="labTotTaxAmt"  style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                    <td><input disabled type="number" min="0"  formControlName="labTotAmt" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                   
                                                                    
                                                                    <td><input disabled type="number" formControlName="matBasicAmt" style="width: 7em;font-weight: bold;font-size: small;text-align: right;"></td>
                                                                    
                                                                    <div *ngIf="showServiceCustomer ;then sr11; else sr21"></div>
                                                                    <ng-template #sr11>
                                                                    <!-- <td><input disabled type="number" min="0" formControlName="matDiscountPer"  style="width: 4em;font-weight: bold;font-size: small;" class="form-control"  ></td> -->
                                                                    <td><input disabled  type="number" min="0" formControlName="matDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                                                    </ng-template>

                                                                     <ng-template #sr21> 
                                                                    <!-- <td><input disabled type="number"   min="0"  formControlName="matDiscountPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                    <td><input disabled type="number" min="0" formControlName="matDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                                                    </ng-template>
                                                                 
                                                                    <td><input disabled type="number" min="0" formControlName="matTaxableAmt" [(ngModel)]="matTaxableAmt" style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                    <td><input disabled type="number" min="0" formControlName="matTotTaxAmt" [(ngModel)]="matTotTaxAmt" style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                    <td><input disabled type="number" min="0"  formControlName="matTotAmt" style="width: 7em;font-weight: bold;font-size: small;">  </td>
                                                                    <td><input disabled type="number" min="0"  formControlName="invTotAmt" class="form-control"  style="width: 8em;font-weight: bold;font-size: small;"></td>
                                                                                         
                                                                    <div *ngIf="printInvoiceButton; then PINV1; else PINV2"></div>
                                                                    <ng-template #PINV1>
                                              
                                                                    <div *ngIf="showBodyshopCustomer; then bs1; else bs2"></div>
                                                                    <ng-template #bs2>
                                                                        <td><button type="button" class="btn btn-primary" id="register" style="width: fit-content;" (click)="printWSInvoice()">Invoice</button> </td>
                                                                    </ng-template>
                                                                    <ng-template #bs1>
                                                                        <td><button  type="button" class="btn btn-primary"  id="register" style="width: fit-content;" (click)="printWSInvoiceDp('cust')">Invoice</button> </td>
                                                                    </ng-template>
                                                                                                                      
                                                                   </ng-template> 
                                                                   <ng-template #PINV2>
                                                                     <td><button disabled type="button" class="btn btn-primary"  id="register" style="width: fit-content;" (click)="printWSInvoiceDp('cust')">Invoice</button> </td>
                                                                   </ng-template>
                                                                </tr>

                                                                <!-- ===========================ADDON================================================= -->
                                                                <div *ngIf="addonBillable; then ADN1; else ADN2"></div>
                                                                <ng-template #ADN2></ng-template>
                                                                <ng-template #ADN1>

                                                                <div *ngIf="showServiceCustomer; then srvBlockAddon2; else insBlockAddon2"></div>
                                                                <ng-template #srvBlockAddon2>

                                                                <tr class="ItemStyle" style="text-decoration:none;">

                                                                    <td style="width: 10em;text-align: center;" class="LabelFontStyle" >Addon&nbsp;</td>
                                                                    <td><input disabled type="text"   formControlName="addonInvoiceNo"  value="{{addonInvoiceNo}}"  style="width: 9em; font-weight: bold;font-size: small;" ></td>

                                                                    <td><input disabled type="number" formControlName="addonLabBasicAmt" style="width: 7em;font-weight: bold;font-size: small;text-align: right;" ></td>
                                                                    
                                                                    <div *ngIf="showServiceCustomer ;then sraddon1; else sraddon2"></div>
                                                                    <ng-template #sraddon1>
                                                                        <!-- <td><input  disabled type="number"   min="0"     formControlName="addonLabDiscountPer"  class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                        <td><input disabled  type="number"   min="0"     formControlName="addonLabDiscount" value={{addonLabDiscount}} class="form-control" (change)="labDiscountAmtCal($event,41)" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                    </ng-template>
                                                                    <ng-template #sraddon2>
                                                                        <!-- <td><input disabled type="number"   min="0"  formControlName="addonLabDiscountPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                        <td><input disabled type="number"   min="0"  formControlName="addonLabDiscount" value={{addonLabDiscount}}  class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                    </ng-template>
                                                                    <td><input disabled type="number" min="0" formControlName="addonLabTaxableAmt"  style="width: 7em;font-weight: bold;font-size: small;"    ></td>
                                                                    <td><input disabled type="number" min="0" formControlName="addonLabTotTaxAmt"  style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                    <td><input disabled type="number" min="0"  formControlName="addonLabTotAmt" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                                                                                    
                                                                    <td><input disabled type="number" formControlName="addonMatBasicAmt" style="width: 7em;font-weight: bold;font-size: small;text-align: right;"></td>
                                                                    
                                                                    <div *ngIf="showServiceCustomer ;then srvaddon11; else srvaddon21"></div>
                                                                    <ng-template #srvaddon11>
                                                                
                                                                    <!-- <td><input disabled type="number" min="0" formControlName="addonMatDiscoutPer"  style="width: 4em;font-weight: bold;font-size: small;" class="form-control"  ></td> -->
                                                                    <td><input disabled  type="number" min="0" formControlName="addonMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                                                    </ng-template>

                                                                    <ng-template #srvaddon21> 
                                                                    <!-- <td><input disabled type="number"   min="0"  formControlName="addonMatDiscoutPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                    <td><input disabled type="number" min="0" formControlName="addonMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                                                    </ng-template>
                                                                       

                                                                    <td><input disabled type="number" min="0" formControlName="addonMatTaxableAmt"  style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                    <td><input disabled type="number" min="0" formControlName="addonMatTotTaxAmt"  style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                    <td><input disabled type="number" min="0"  formControlName="addonMatTotAmt" style="width: 7em;font-weight: bold;font-size: small;">  </td>
                                                                    <td><input disabled type="number" min="0"  formControlName="addonInvTotAmt" class="form-control"  style="width: 8em;font-weight: bold;font-size: small;"></td>

                                                                    <div *ngIf="printAddonInvButton; then PadnInv1; else PadnInv2"></div>
                                                                    <ng-template #PadnInv1>
                                                                        <td><button type="button" class="btn btn-primary" id="register" style="width: fit-content;" (click)="printWSAdnInvoice()">Invoice</button> </td>
                                                                    </ng-template> 
                                                                    <ng-template #PadnInv2>
                                                                        <td><button disabled type="button" class="btn btn-primary" id="register" style="width: fit-content;" (click)="printWSAdnInvoice()">Invoice</button> </td>
                                                                    </ng-template>
                                                                </tr>

                                                                <!-- </ng-template>
                                                                <ng-template #addonLineNo></ng-template> -->

                                                            </ng-template>
                                                            <ng-template #insBlockAddon2></ng-template>
                                                            </ng-template>
                                                            <!-- ======================================================================================== -->

                                                              <!-- ===========================CWI START================================================= -->
                                                            
                                                              
                                                              <div *ngIf="cwiBillable; then CWI1; else CWI2"></div>
                                                              <ng-template #CWI2></ng-template>
                                                              <ng-template #CWI1>

                                                              <div *ngIf="showServiceCustomer; then srvBlockCwi; else insBlockCwi"></div>
                                                              <ng-template #srvBlockCwi>

                                                              <tr class="ItemStyle" style="text-decoration:none;">

                                                                  <td style="width: 10em;text-align: center;" class="LabelFontStyle" >CWI&nbsp;</td>
                                                                  <td><input disabled type="text"   formControlName="cwiInvoiceNo" [(ngValue)]="cwiInvoiceNo"  value="{{cwiInvoiceNo}}"  style="width: 9em; font-weight: bold;font-size: small;" ></td>

                                                                  <td><input disabled type="number" formControlName="cwiLabBasicAmt" style="width: 7em;font-weight: bold;font-size: small;text-align: right;" ></td>
                                                                  
                                                                  <div *ngIf="showServiceCustomer ;then srcw1; else srcw2"></div>
                                                                  <ng-template #srcw1>
                                                                      <!-- <td><input  disabled type="number"   min="0"     formControlName="cwiLabDiscountPer"  class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                      <td><input disabled  type="number"   min="0"     formControlName="cwiLabDiscount" class="form-control" (change)="labDiscountAmtCal($event,41)" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                  </ng-template>
                                                                  <ng-template #srcw2>
                                                                      <!-- <td><input disabled type="number"   min="0"  formControlName="cwiLabDiscountPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                      <td><input disabled type="number"   min="0"  formControlName="cwiLabDiscount" class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                  </ng-template>
                                                                  <td><input disabled type="number" min="0" formControlName="cwiLabTaxableAmt"  style="width: 7em;font-weight: bold;font-size: small;"    ></td>
                                                                  <td><input disabled type="number" min="0" formControlName="cwiLabTotTaxAmt"  style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                  <td><input disabled type="number" min="0"  formControlName="cwiLabTotAmt" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                                                                                  
                                                                  <td><input disabled type="number" formControlName="cwiMatBasicAmt" style="width: 7em;font-weight: bold;font-size: small;text-align: right;"></td>
                                                                  
                                                                  <div *ngIf="showServiceCustomer ;then srvcwi11; else srvcwi21"></div>
                                                                  <ng-template #srvcwi11>
                                                              
                                                                  <!-- <td><input disabled type="number" min="0" formControlName="cwiMatDiscoutPer"  style="width: 4em;font-weight: bold;font-size: small;" class="form-control"  ></td> -->
                                                                  <td><input disabled  type="number" min="0" formControlName="cwiMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                                                  </ng-template>

                                                                  <ng-template #srvcwi21> 
                                                                  <!-- <td><input disabled type="number"   min="0"  formControlName="cwiMatDiscoutPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                  <td><input disabled type="number" min="0" formControlName="cwiMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                                                  </ng-template>
                                                                     

                                                                  <td><input disabled type="number" min="0" formControlName="cwiMatTaxableAmt"  style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                  <td><input disabled type="number" min="0" formControlName="cwiMatTotTaxAmt"  style="width: 7em;font-weight: bold;font-size: small;" ></td>
                                                                  <td><input disabled type="number" min="0"  formControlName="cwiMatTotAmt" style="width: 7em;font-weight: bold;font-size: small;">  </td>
                                                                  <td><input disabled type="number" min="0"  formControlName="cwiInvTotAmt" class="form-control"  style="width: 8em;font-weight: bold;font-size: small;"></td>

                                                                  <div *ngIf="printCwiInvButton; then PCwiInv1; else PCwiInv2"></div>
                                                                  <ng-template #PCwiInv1>
                                                                      <td><button type="button" class="btn btn-primary" id="register" style="width: fit-content;" (click)="printWSCwiInvoice()">Invoice</button> </td>
                                                                  </ng-template> 
                                                                  <ng-template #PCwiInv2>
                                                                      <td><button disabled type="button" class="btn btn-primary" id="register" style="width: fit-content;" (click)="printWSCwiInvoice()">Invoice</button> </td>
                                                                  </ng-template>
                                                              </tr>

                                                                </ng-template>
                                                                 <ng-template #insBlockCwi></ng-template>
                                                              </ng-template>


                                                          <!-- =====================================CWI END=================================================== -->

                                                                <tr class="ItemStyle" style="text-decoration:none;">
                                                                    
                                                                <div *ngIf="showServiceCustomer; then srvBlock; else insBlock"></div>
                                                                            <ng-template #srvBlock></ng-template>
                                                                            <ng-template #insBlock>
                                                      
                                                                            <td style="width: 15%;text-align: center;" class="LabelFontStyle">Insurance&nbsp;</td>
                                                                            <td><input disabled type="text" formControlName="insInvoiceNo" [(ngValue)]="insInvoiceNo"  value="{{insInvoiceNo}}"  style="width: 9em;font-weight: bold;font-size: small;" ></td>

                                                                            <td><input disabled type="number" min="0"   style="width: 7em;font-weight: bold;font-size: small;"  formControlName="insLabTaxableAmt"></td>

                                                                            <!-- <td><input disabled type="text"      formControlName="disTypeLab" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                            <!-- <td><input disabled type="number"   min="0"     formControlName="labDiscountPerIns" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                            <td><input disabled type="number"   min="0"     formControlName="labDiscountIns" class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                            
                                                                            <td><input disabled type="number" min="0"       style="width: 7em;font-weight: bold;font-size: small;"  formControlName="insLabTaxableAmt"></td>
                                                                            <td><input disabled type="number" min="0"       style="width: 7em;font-weight: bold;font-size: small;"  formControlName="insLabTotTaxAmt"></td>
                                                                            <td><input disabled type="number" min="0"       formControlName="insLabTotAmt" style="width: 7em;font-weight: bold;font-size: small;"   formControlName="insLabTotAmt"></td>
                                                                            <td><input disabled type="number" min="0"       style="width: 7em;font-weight: bold;font-size: small;"  formControlName="insMatTaxableAmt"></td>
                                                                            <!-- <td><input disabled type="text"                 formControlName="disTypeMat" class="form-control"  style="width: 5em;font-weight: bold;font-size: small;"></td> -->
                                                                            <!-- <td><input disabled type="number"   min="0"     formControlName="matDiscountPerIns" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td> -->
                                                                            <td><input disabled type="number"   min="0"     formControlName="matDiscoutIns" class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                                                                                                                                   
                                                                            <td><input disabled type="number" min="0"   style="width: 7em;font-weight: bold;font-size: small;" formControlName="insMatTaxableAmt"></td>
                                                                            <td><input disabled type="number" min="0"   style="width: 7em;font-weight: bold;font-size: small;" formControlName="insMatTotTaxAmt"></td>
                                                                            <td><input disabled type="number" min="0"  formControlName="insMatTotAmt" style="width: 7em;font-weight: bold;font-size: small;" formControlName="insMatTotAmt"></td>

                                                                            <td><input disabled type="number" min="0"  formControlName="insInvTotAmt" class="form-control"  style="width: 8em;font-weight: bold;font-size: small;"></td>

                                                                            <div *ngIf="printInsInvoiceButton; then PINSINV1; else PINSINV2"></div>
                                                                            <ng-template #PINSINV1>
                                                                                <td><button  type="button" class="btn btn-primary"  id="register" style="width: fit-content;" (click)="printWSInvoiceDp('ins')">Invoice</button> </td>
                                                                            </ng-template>
                                                                             <ng-template #PINSINV2>
                                                                                    <td><button disabled type="button" class="btn btn-primary"  id="register" style="width: fit-content;" (click)="printWSInvoiceDp('ins')">Invoice</button> </td>
                                                                             </ng-template>

                                                                        </ng-template>
                                                                </tr>
                                                                

                                                            <div *ngIf="bajajDivision ; then bajajDiv; else marutiDiv"></div>
                                                            <ng-template #marutiDiv>
                                                               <div *ngIf="dispSplitRatio ; then salv1; else salv2"></div>
                                                                <ng-template #salv1>
                                                              
                                                                    <tr class="ItemStyle" style="text-decoration:none;">
                                                                    
                                                                        <td style="width: 15%;text-align: center;" class="LabelFontStyle"> Deductibles&nbsp;</td>
                                                                        
                                                                        <td>
                                                                            <input type="number" min="0"   style="width:7em;font-weight: bold;font-size: small;"
                                                                                placeholder="" formControlName="ecaAmt" class="form-control">
                                                                        </td>
                                                                     </tr>
                                                                      <tr class="ItemStyle" style="text-decoration:none;">
                                                                        <td style="width: 15%;text-align: center;" class="LabelFontStyle">Salvage&nbsp;</td>
                                                                        
                                                                        <td>
                                                                            <input type="number" min="0"   style="width: 7em;font-weight: bold;font-size: small;"
                                                                                placeholder="" formControlName="salvage" class="form-control">
                                                                        </td>

                                                                      </tr>
                                                            </ng-template><ng-template #salv2></ng-template>
                                                            </ng-template><ng-template #bajajDiv> </ng-template>
                                                                                                                                                                
                                                            </tbody>
                                                        </table>
                                                    </fieldset>


                                                    <div *ngIf="showServiceCustomer ;then sr111; else sr211"></div>
                                                    <ng-template #sr111>

                                                    <fieldset class="RFS">
                                                        <legend id="FormsPH_LGAadhaar" class="RFSL"
                                                            style="font-size: 10px;color: black;">
                                                            <b> Discount Details</b>
                                                        </legend>
                                                        <tr>

                                                            <td style="width: 15%" class="LabelFontStyle">Discount&nbsp;Type:&nbsp;</td>

                                                            <td>
                                                                <select  formControlName="disCategory" style="width: 12em;font-weight: bold;font-size: small;"
                                                                    id="disCategory" class="form-control">
                                                                    <option>--Select--</option>
                                                                    <option *ngFor="let sc of  disCategoryList">
                                                                        {{sc.code}}
                                                                    </option>
                                                                </select>
                                                            </td>

                                                            <td style="width: 15%" class="LabelFontStyle">Authorized&nbsp;By:&nbsp;</td>
                                                            <td>
                                                                <select  class="form-control" style="width: 12em;font-weight: bold;font-size: small;"
                                                                    formControlName="disAuthBy">
                                                                    <option value="Works Manager">Works Manager</option>
                                                                    <option value="BS Manager">BS Manager</option>
                                                                    <option value="AGM Service">AGM Service</option>
                                                                    <option value="GM Service">GM Service</option>

                                                                </select>
                                                            </td>

                                                            <td style="width: 15%" class="LabelFontStyle">

                                                            <td><button type="button" data-toggle="modal"  class="btn btn-primary" data-target="#DiscountDetails"  style="width:fit-content">Discount&nbsp;Details</button></td>

                                                            <td style="width: 15%" class="LabelFontStyle">Remarks:&nbsp;</td>
                                                            <td><input type="text" class="form-control"   formControlName="discountRemark"  value ="{{discountRemark}}" style="width:500px ;" placeholder=""></td>                                                          
                                                            <!-- <td style="width: 15%" class="LabelFontStyle">
                                                                Disc&nbsp;Mode(Lbr)&nbsp;:</td>
                                                           
                                                               <td>
                                                                    <select   formControlName="disTypeLab" value={{disTypeLab}} style="width: 10em;font-weight: bold;font-size: small;"
                                                                        id="disTypeLab" class="form-control"
                                                                        (ngModelChange)='onOptionsDisTypeLabSelected($event)'>
                                                                        <option >--Select--</option>
                                                                       
                                                                        <option *ngFor="let sc of  DisTypeMatList">
                                                                            {{sc.model}}
                                                                        </option>
                                                                    </select>
                                                                  
                                                                </td> -->
                                                                <!-- 
                                                                <td style="width: 15%" class="LabelFontStyle">
                                                                    Disc&nbsp;Mode(Matrl)&nbsp;:</td>
                                                                    <td>
                                                                       
                                                                        <select  formControlName="disTypeMat" value={{disTypeMat}} style="width: 10em;font-weight: bold;font-size: small;"
                                                                            id="disTypeMat" class="form-control"
                                                                            (ngModelChange)='onOptionsDisTypeMatSelected($event)'>
                                                                            <option>--Select--</option>
                                                                           
                                                                            <option *ngFor="let sc of  DisTypeMatList">
                                                                                {{sc.model}}
                                                                            </option>
                                                                        </select>
                                                                    </td> -->
                                                                                                                      
                                                        </tr>
    
                                                    </fieldset>
                                                    </ng-template>
                                                    <ng-template #sr211></ng-template>


                                            

                                                
                                                <fieldset class="RFS">
                                                    <!-- <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;"> <b> Payment details</b> </legend> -->
                                                    <table class="center">
                                                    <tr>
                                                        <td style="width: 15%" class="LabelFontStyle">CDMS&nbsp;Bill&nbsp;No(SR):</td>
                                                        <td><input type="text"  class="form-control" placeholder="" formControlName="cdmsInvoiceNo" style="background-color:yellow;" ></td>

                                                        <div *ngIf="showServiceCustomer ;then dpcdmsYes; else dpcdmsNo"></div>
                                                        <ng-template #dpcdmsNo>
                                                            <td style="width: 15%" class="LabelFontStyle">CDMS&nbsp;Bill&nbsp;No(DP):</td>
                                                            <td><input type="text"  class="form-control" placeholder="" formControlName="cdmsInvoiceNoDp" style="background-color:yellow;" ></td>
                                                        </ng-template><ng-template #dpcdmsYes></ng-template>

                                                        <td style="width: 15%" class="LabelFontStyle">CDMS&nbsp;Bill&nbsp;Date:</td>
                                                        <td><input type="date"  class="form-control" placeholder="" formControlName="cdmsInvoiceDate" style="background-color:yellow;" ></td>


                                                        <td style="width: 15%" class="LabelFontStyle">Outstanding&nbsp;Amt&nbsp;:</td>
                                                        <td><input type="number" disabled class="form-control" placeholder="" formControlName="totBalance"></td>

                                                        <td style="width: 15%" class="LabelFontStyle">Advance&nbsp;Amt&nbsp;:</td>
                                                        <td> <input type="number" disabled class="form-control"  placeholder="" formControlName="advAmt"></td>
                                                       
                                                 
                                                        <!-- <td>
                                                            <input type="number" disabled class="form-control"
                                                                placeholder="" formControlName="totBalanceAmt">
                                                        </td> -->

                                                        

                                                        <!-- <td>
                                                            <button type="submit" class="btn btn-primary" id="register"
                                                                style="width: fit-content;">Details</button>
                                                        </td> -->

                                                           <!-- <td>
                                                            <button type="submit" class="btn btn-primary" id="register"
                                                                style="width: fit-content;">Details</button>
                                                        </td> -->

                                                        <!-- <td style="width: 15%" class="LabelFontStyle"> Invoice&nbsp;Number&nbsp;:</td>
                                                        <td> <input type="text" disabled class="form-control" formControlName="arInvNum"  value="{{arInvNum}}"> </td>
                                                     -->
                                                    </tr>
                                                </table>

                                                </fieldset>
                                                <br>

                                                <table class="center">
                                                    <tr>

                                                        <td>
                                                            <button type="button" style="width: 5rem;"
                                                                class="btn btn-primary" id="register"
                                                                (click)="closeMast()">Close</button>
                                                        </td>

                                                        <td>
                                                            <button type="button"
                                                                class="btn btn-primary" style="width: 5rem;"
                                                                (click)="clearFormArray()">Reset</button>
                                                                
                                                        </td>

                                                        <div *ngIf="saveBillButton; then SB1; else SB2"></div>
                                                        <ng-template #SB1>
                                                        <!-- <td>
                                                            <button type="button" class="btn btn-primary"
                                                                style="width:7rem;"
                                                                (click)="applyDiscnt()">Apply Discount</button>
                                                        </td> -->
                                                        <td>
                                                            <button type="butt on" class="btn btn-primary"
                                                                style="width: 6rem;" (click)="BillingCal()">Save Bill</button>
                                                        </td>
                                                       </ng-template>
                                                        <ng-template #SB2>
                                                        <!-- <td>
                                                            <button disabled type="butt on" class="btn btn-primary"
                                                                style="width: 7rem;" (click)="BillingCal()">Save Bill</button>
                                                        </td> -->
                                                         </ng-template>



                                                         <!-- <div *ngIf="saveBillButton; then RE1; else RE2"></div>
                                                         <ng-template #RE1>
                                                            <td>
                                                                <button type="submit" class="btn btn-primary"
                                                                style="width: fit-content;" (click)="ReopenMaterialIssue()"  id="register">Reopen-Material Issue</button>
                                                           </td>
                                                        </ng-template>
                                                         <ng-template #RE2></ng-template> -->

                                                      

                                                        <div *ngIf="genBillButton; then G1; else G2"></div>
                                                        <ng-template #G1>
                                                        <td>
                                                            <button type="button" class="btn btn-primary"
                                                                (click)="GenerateInvoice(jobCardNum)" id="register" style="width: fit-content;">Generate Invoice</button>
                                                        </td>
                                                        </ng-template>
                                                        <ng-template #G2>
                                                            <!-- <td>
                                                                <button disabled  type="submit" class="btn btn-primary"
                                                                    (click)="GenerateInvoice(jobCardNum)" id="register" style="width: fit-content;">Generate Invoice</button>
                                                            </td> -->
                                                        </ng-template>

                                                        <div *ngIf="showBodyshopCustomer; then dpcustYes; else dpcustNo"></div>
                                                        <ng-template #dpcustNo>
                                                        

                                                        <div *ngIf="preInvButton; then Pre11; else Pre21"></div>
                                                        <ng-template #Pre11>
                                                        <td>
                                                            <button  type="button" class="btn btn-primary"
                                                                style="width: fit-content;"
                                                                id="register" (click)="printPreInvoice()" >Pre-Invoice</button>
                                                        </td>
                                                        </ng-template>
                                                        <ng-template #Pre21>
                                                            <!-- <td>
                                                                <button disabled type="submit" class="btn btn-primary"
                                                                    style="width: fit-content;"
                                                                    id="register" (click)="printPreInvoice()" >Pre-Invoice</button>
                                                            </td> -->
                                                        </ng-template>
                                                        </ng-template>
                                                        <ng-template #dpcustYes>

                                                            <div *ngIf="preInvButton; then Pre11; else Pre21"></div>
                                                            <ng-template #Pre11>
                                                            <td> <button  type="button" class="btn btn-primary" style="width: fit-content;" id="register" (click)="printPreInvoiceDp('cust')" >DP-PreInvoice(Cust)</button> </td>
                                                            <td> <button  type="button" class="btn btn-primary" style="width: fit-content;" id="register" (click)="printPreInvoiceDp('ins')" >DP-PreInvoice(Ins)</button> </td>
                                                           
                                                            </ng-template>
                                                            <ng-template #Pre21>
                                                                <!-- <td> <button disabled type="submit" class="btn btn-primary" style="width: fit-content;" id="register" (click)="printPreInvoice()" >DP-PreInvoice(Cust)</button> </td>
                                                                <td> <button disabled type="submit" class="btn btn-primary" style="width: fit-content;" id="register" (click)="printPreInvoice()" >DP-PreInvoice(Ins)</button> </td>
                                                                -->
                                                            </ng-template>


                                                        </ng-template>
                                                      
                                                    <!-- --------------- INVOICE PRINTING-------------------------------------------- -->
                                                    <div *ngIf="showBodyshopCustomer; then dpcustInvYes; else dpcustInvNo"></div>
                                                    <ng-template #dpcustInvNo>
                                             
                                                    <div *ngIf="printInvoiceButton; then P1; else P2"></div>
                                                    <ng-template #P1>
                                                        <!-- <td><button type="button" class="btn btn-primary" id="register" style="width: fit-content;" (click)="printWSInvoice()">Print invoice</button> </td>
                                                       
                                                        <div *ngIf="printAddonInvButton; then A1; else A2"></div>
                                                        <ng-template #A1>
                                                            <td><button type="button" class="btn btn-primary" id="register" style="width: fit-content;" (click)="printWSAdnInvoice()">Print Addon Bill</button> </td>
                                                        </ng-template>
                                                        <ng-template #A2></ng-template> -->

                                                        
                                                        <td> <button type="button" class="btn btn-primary" id="register"  style="width: 5rem;" [routerLink]="['/admin/transaction/PaymentAr',this.jobCardNum]">Receipt</button> </td> 
                                                    </ng-template>
                                                    <ng-template #P2></ng-template>

                                                    </ng-template>
                                                    <ng-template #dpcustInvYes>
                                                        <div *ngIf="printInvoiceButton; then P3; else P4"></div>
                                                        <ng-template #P3>
                                                            <!-- <td><button  type="button" class="btn btn-primary"  id="register" style="width: fit-content;" (click)="printWSInvoiceDp('cust')">DP invoice(Cust)</button> </td>
                                                            <td><button  type="button" class="btn btn-primary"  id="register" style="width: fit-content;" (click)="printWSInvoiceDp('ins')">DP invoice(Ins)</button> </td>
                                                             -->
                                                            <td><button  type="button" class="btn btn-primary" id="register"  style="width: fit-content;" [routerLink]="['/admin/transaction/PaymentAr',this.jobCardNum]">Receipt</button> </td> 
                                                        </ng-template>
                                                        <ng-template #P4></ng-template>
                                                    </ng-template>


                                                      
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                       </table>
                   


                        <!-- <div *ngIf="displayModal; then thenBlockModal; else elseBlockModal"></div>
                        <ng-template #thenBlockModal>
                        </ng-template>
                        <ng-template #elseBlockModal> -->

                            <div id="myModel" [style.display]="showModal ? 'block' : 'none'" class="modal fade"
                                tabindex="-1" role="dialog" aria-hidden="true" style="width: 700px; margin-left:350px">

                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                                <h4 class="modal-title" id="myModalLabel"
                                                style="text-align: center; font-size: medium; margin-left: 20%; font-family: Verdana,Sans-serif, Arial, Helvetica;font-weight: bold;">
                                                Add Technician for Line-{{title}}.Labour Amt:{{this.lineBasicAmt}}</h4>
                                               
                                            <button type="button" class="close" data-dismiss="modal"
                                                aria-hidden="true">&times;</button>
                                        </div>
                                        <div class="modal-body text-center pagination-centered">
                                            <div class="grid_scroll">
                                                <table class="auto-style4" cellspacing="0" cellpadding="4" rules="all"
                                                    class="center" style="border: solid 1px Gray">
                                                    <thead>
                                                        <tr>
                                                             <th scope="col">Type</th>
                                                             <th scope="col">Technician Name</th>
                                                             <th scope="col">Amount</th>
                                                         </tr>
                                                    </thead>
                                                    <tbody>
                                                        <ng-container class="center" formArrayName="splitAmounts">
                                                              <ng-container
                                                                *ngFor="let matDetails of splitDetailsArray().controls; let j= index"
                                                                [formGroupName]="j">

                                                                <div *ngIf="saveLabButton; then ADT1; else ADT2"></div>
                                                                <ng-template #ADT1>

                                                                <tr>
                                                                    <input  hidden disabled type="number" min="0"  formControlName="lineBasicAmt"  class="form-control">
                                                                    <td><select class="form-control"
                                                                            formControlName="type">
                                                                            <option value="Technician">Technician</option>
                                                                            <option value="Contractor">Contractor</option>
                                                                        </select>
                                                                    </td>
                                                                    <td><select formControlName="techId" id="techId"  class="form-control">
                                                                            <option>--Select--</option>
                                                                            <option *ngFor="let sc of  TechnicianList" [ngValue]="sc.teamId">
                                                                                {{sc.teamId}}-{{sc.description}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                  
                                                                    <td> <input type="number" min="0"  formControlName="techAmt" (change) = "validateTechAmt(j,content)" class="form-control">  </td>

                                                                    <td> <button type="button" class="btn btn-primary"    (click)="addTechRow(j,content)"
                                                                            (keydown.shift.arrowdown)="addRow(i)" style="width: min-content;"><i class="fa fa-plus"></i></button></td>
                                                                    <td> <button type="button" class="btn btn-primary"
                                                                            (click)="RemoveTechRow(j)"   style="width: min-content;"><i class="fa fa-trash"></i></button></td>
                                                                   </tr>

                                                                </ng-template>
                                                                <ng-template #ADT2>
                                                                <tr>
                                                                    <input  hidden disabled type="number" min="0"  formControlName="lineBasicAmt"  class="form-control">
                                                                    <td><select disabled class="form-control"   formControlName="type">
                                                                            <option value="Technician">Technician</option>
                                                                            <option value="Contractor">Contractor</option>
                                                                        </select>
                                                                    </td>
                                                                    <td><select disabled formControlName="techId" id="techId"  class="form-control">
                                                                            <option>--Select--</option>
                                                                            <option *ngFor="let sc of  TechnicianList" [ngValue]="sc.teamId">
                                                                                {{sc.teamId}}-{{sc.description}}
                                                                            </option>
                                                                        </select>
                                                                    </td>
                                                                  
                                                                    <td> <input disabled type="number" min="0"  formControlName="techAmt" (change) = "validateTechAmt(j,content)" class="form-control">  </td>

                                                                    <td> <button disabled  type="button" class="btn btn-primary"    (click)="addTechRow(j,content)"
                                                                            (keydown.shift.arrowdown)="addRow(i)" style="width: min-content;"><i class="fa fa-plus"></i></button></td>
                                                                    <td> <button disabled type="button" class="btn btn-primary"
                                                                            (click)="RemoveTechRow(j)"   style="width: min-content;"><i class="fa fa-trash"></i></button></td>
                                                                </tr>
                                                                </ng-template>
                                                            </ng-container>
                                                        </ng-container>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                        <div *ngIf="saveLabButton; then ADT11; else ADT21"></div>
                                        <ng-template #ADT11>
                                        <div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal"
                                                aria-hidden="true" (click)="fnCancatination(content)">OK</button>
                                        </div>
                                        </ng-template>
                                        <ng-template #ADT21>
                                            <div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal"
                                                    aria-hidden="true" >Close</button>
                                            </div>
                                        </ng-template>

                                    </div>
                                </div>
                            </div>
                        <!-- </ng-template> -->

                    </div>
                    <!-- </form> -->
                </div>
            </div>
        </div>

    


<div class="modal" id="confirmAlert" tabindex="-1" role="dialog" aria-hidden="true" style="width: 500px; text-align: center;">
    <div class="modal-dialog modal-dialog-centered modal-sm"  role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" >Confirmation!</h5>
        </div>
        <div class="modal-body">
            <label style="font-size: small; color: black; font-weight: bold; text-align: center; vertical-align: middle;">
                {{message}}
            </label>

            <!-- <td> <input  type="text"
                formControlName="regNo1" value={{regNo1}} class="form-control">
           </td> -->

         

        </div>
        <div class="modal-footer">
            <table class="center">
        <tr>
            <td>
            <button  type="button" class="btn btn-primary" data-dismiss="modal" id="register"   (click)="executeAction()">Yes</button>
            </td>
            <td>
            <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>
            </td>
        </tr>
        </table>
        </div>
        </div>
        </div>
</div>


<div class="modal fade" id="jobCardSearch" tabindex="-1" role="dialog" aria-labelledby="jobCardSearchLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
         <div class="modal-header" >
            <h5 class="modal-title" id="jobCardSearchLabel" style="text-align: center;color:blue">Jobcard&nbsp;Search&nbsp; </h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
        </div>
        <div class="modal-body">
            
            <fieldset class="RFS">
                <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 12px;color: black;font-weight: bold;">Search Criteria</legend>
         
          
            <!-- <table class="center" style="width: 100%;"> -->
                <table class="center" style="width: 100%;background-color: #FFE4B5;">
                <tr>

                    <td  style="background-color: #FFE4B5;" class="LabelFontStyle">&nbsp;Job&nbsp;&nbsp;Number:&nbsp;</td>
                    
                    <td style="background-color: #FFE4B5;">
                        <input type="text" class="form-control" formControlName="jobCardNum2"  value={{jobCardNum2}} [(ngModel)]="jobCardNum2" style="text-transform:uppercase;"  >
                    </td>

                    <td  style="background-color: #FFE4B5;" class="LabelFontStyle">&nbsp;Reg&nbsp;&nbsp;Number:&nbsp;</td>
                    
                    <td style="background-color: #FFE4B5;">
                        <input type="text" class="form-control" formControlName="regNo1"  value={{regNo1}} [(ngModel)]="regNo1" style="text-transform:uppercase;" >
                    </td>

                   
                    <td  style="background-color: #FFE4B5;" class="LabelFontStyle">&nbsp;Job&nbsp;&nbsp;Date:&nbsp;</td>
                    
                    <td style="background-color: #FFE4B5;">
                        <input type="date" class="form-control" formControlName="JobOpenDt"  value={{JobOpenDt}} [(ngModel)]="JobOpenDt"  >
                    </td>

                    <td  style="background-color: #FFE4B5;" class="LabelFontStyle">&nbsp;Job&nbsp;&nbsp;Status:&nbsp;</td>
                    
                    <!-- <td style="background-color: #FFE4B5;">
                        <input type="text" class="form-control" formControlName="jobStatus1"  value={{jobStatus1}} [(ngModel)]="jobStatus1"  >
                    </td> -->

                    <td>
                        <select formControlName="jobStatus1" id="jobStatus1" value={{jobStatus1}} class="form-control"  >
                        <!-- (ngModelChange)="onSelectionRevStatus($event)"  [(ngModel)]="jobStatus1"  -->
                        <option></option>
                        <option value="Opened">Opened</option>
                        <option value="Ready for Invoice">Ready for Invoice</option>
                        <option value="Invoiced">Invoiced</option>
                        <!-- <option value="Closed">Closed</option> -->
                        </select>
                    </td>
                   

                     <td>
                        <button  type="button" class="btn btn-primary"  id="register"   (click)="jobcardFindNew()">Find</button>
                   </td>
                   
                   <td>
                    <button style="width:fit-content" type="button" class="btn btn-primary" (click)="clearSearch()">Reset</button>
                   </td>
                   
                    </tr>
                                     

                </table>
                </fieldset>

                <fieldset class="RFS">
                    <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 12px;color: black;font-weight: bold;">Jobcard List</legend>
                  
                    <div class="container1">
                            <div class="grid_scroll">
                            <table class="auto-style4" class="GridFont" cellspacing="0" cellpadding="4" border="0" id="ctl00_cpForm_grdActions" style="border-color:#959595;border-collapse:collapse;width: 100%;">
                                <tbody>
                                        <tr class="GridHeader">
                                        <th  scope="col">Srl&nbsp;No&nbsp;</th> 
                                        <th  scope="col">Reg&nbsp;No&nbsp;</th>
                                        <th  scope="col">Job&nbsp;No&nbsp;</th>
                                        <th  scope="col">Job&nbsp;Date</th>
                                        <th  scope="col">GP&nbsp;No</th>
                                        <th  scope="col">Job&nbsp;Type</th>
                                        <th  scope="col">Status&nbsp;</th>
                                        <th  scope="col">Service&nbsp;Advisor</th>
                                        <th  scope="col">Cust&nbsp;Name</th>
                                        <th  scope="col">Invoice&nbsp;No&nbsp;</th>
                                        <th  scope="col">Invoice&nbsp;Amt&nbsp;</th>
                                        <th  scope="col">Balance&nbsp;Amt&nbsp;</th>
                                       
                                        <!-- <th style="width:7rem" scope="col"> Conatct&nbsp;No</th> -->
                                        <th style="width:6rem" scope="col">Select</th>
                                    </tr>
                                </tbody>
                                <tr *ngFor="let com of lstJobcardList let i=index" class="ItemStyle" style="text-decoration:none;font-size:small;">
                                        <td style="text-align: center;width: 2rem;">{{i+1}}</td>
                                        <td style="text-align: center;width: 6rem;">{{com.regNo}}</td>
                                        <td style="text-align: center;width: 7rem;">{{com.jobCardNum}}</td>
                                        <td style="text-align: center;width: 5rem;">{{com.jobCardDate |date:'dd-MM-y' }}</td>
                                        <td style="text-align: center;width: 3rem;">{{com.gatepassId}}</td>
                                        <td style="text-align: center;width: 5rem;">{{com.attribute1}}</td>
                                        <td style="text-align: center;width: 8rem;">{{com.status}}</td>
                                        <td style="text-align: left;width: 12rem;">{{com.fullName}}</td>
                                        <td style="text-align: left;width: 15rem;">{{com.custName}}</td>
                                        <!-- <td style="text-align: center;width: 2rem;">{{com.custAccountNo}}</td>  -->
                                        <td style="text-align: center;width: 2rem;">{{com.trxNumber}}</td> 
                                        <td style="text-align: right;width: 2rem;">{{com.invoiceAmount | number:'1.2-2'}}</td> 
                                        <td style="text-align: right;width: 2rem;">{{com.balance | number:'1.2-2'}}</td> 
                                        <button  type="button" class="btn btn-secondary" data-dismiss="modal" id="register"   (click)="Search(com.jobCardNum)">Select</button>
                                </tr> 
                            </table>
                        </div>
                        </div>
                    
                    </fieldset>

                


         

        </div>
        <div class="modal-footer">
            
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>

        </div>
        </div>
</div>
</div>

        
<div class="modal fade" id="itemDetails" tabindex="-1" role="dialog" aria-labelledby="itemDetailsLabel" aria-hidden="true" style="width: 800px;height: 500px; margin-left:300px">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
         <div class="modal-header" >
            <!-- style="background-color: darkcyan;" -->
        <h5 class="modal-title" id="itemDetailsLabel" style="text-align: center;color:blue"  >Labour&nbsp;Search&nbsp;:&nbsp; {{lineIndex+1}}</h5>
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
         </div>
        
         <div class="modal-body">

           
            <table class="center" style="width: 100%; background-color: #FFE4B5;">
                <tr>
                    <td  style="width: 15%" class="LabelFontStyle">Search&nbsp;&nbsp;By&nbsp;:</td>

                    <td>
                        <select   formControlName="searchBy" id="searchBy" [(ngModel)]="searchBy" value={{searchBy}} class="form-control"  (ngModelChange)='onSearchTypeSelected($event)' style="width: 200px;">
                            <!-- <option value=""></option> -->
                            <option value="ITEM CODE">ITEM CODE</option>
                            <option value="ITEM DESCRIPTION">ITEM DESCRIPTION</option>
                    </select>
                    </td>
                                             
                    <div *ngIf="searchByItem; then itemYes; else descYes"> </div>
                    <ng-template #itemYes>
                      <td style="width: 15%" class="LabelFontStyle">&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;Code&nbsp;:</td>
                      <td>
                        <input   type="text"  formControlName="searchByItemCode"  id="searchByItemCode"
                                 [(ngModel)]="searchByItemCode" class="form-control"  placeholder="ITEM CODE"
                                 style="width: 250px; background-color: rgb(240, 240, 166); text-transform: uppercase;"  >
                     </td>
                    </ng-template>
                    <ng-template #descYes>
                        <td style="width: 15%" class="LabelFontStyle">&nbsp;&nbsp;&nbsp;&nbsp;Description&nbsp;:</td>
                        <td>
                        <input   type="text"  formControlName="searchByItemDesc"  id="searchByItemDesc"
                                [(ngModel)]="searchByItemDesc" class="form-control"  placeholder="ITEM DESCRIPTION"
                                style="width: 250px; background-color: rgb(240, 240, 166); text-transform: uppercase;"  >
                        </td>

                    </ng-template>

                    <td>
                        <button type="button" class="btn-primary" style="width:3rem;" (click)="SearchPartNum()"><i class="fa fa-search"
                                aria-hidden="true"></i></button>
                    </td>
                

                </tr>
            </table>

            <div class="container1">
            <div class="grid_scroll_3">
                <table class="auto-style4" class="GridFont" cellspacing="0" cellpadding="4" border="0" id="ctl00_cpForm_grdActions" style="font-size:small; border-color:brown;border-collapse:collapse;width: 100%;">
                        <tbody>
                            <tr class="GridHeader">
                                <th style="width:3rem" scope="col"> Srl&nbsp;</th>
                                <!-- <th style="width:10rem"  scope="col">Item&nbsp;Id</th> -->
                                <th style="width:10rem"  scope="col">Item&nbsp;Code</th>
                                <th style="width:10rem"   scope="col">Description&nbsp;</th>
                                <!-- <th style="width:8rem"   scope="col">Category&nbsp;</th>
                                <th style="width:3rem"  scope="col">UOM&nbsp;</th> -->
                                <th style="width:4rem"  scope="col">Select</th>
                           </tr>
                        </tbody>
                           <tr *ngFor="let com of lstcomments1 let i=index" class="ItemStyle" style="text-decoration:none;">
                                <td style="width:3rem;text-align: center;">{{i+1}}</td>
                                <!-- <td style="width:10rem;text-align: left;">{{com.itemId}}</td> -->
                                <td style="width:10rem;text-align: left;">{{com.segment}}</td>
                                <td style="width:25rem;text-align: left;">{{com.description}}</td>
                                <!-- <td style="width:8rem;text-align: center;">{{com.itemCategory}}</td>      
                                <td style="width:8rem;text-align: center;">{{com.uom}}</td>  -->
                                <!-- <td><button class="btn btn-secondary" (click)="F9SearchItemCodeNew(com.segment)">Select</button></td>  -->
                                <button  type="button" class="btn btn-secondary" data-dismiss="modal" id="register" style="width: fit-content;"  (click)="getItem(com.segment,lineIndex)">Select</button>
                            </tr>
                </table>
            </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
</div>

<!-- ----------------------------------------------------------- -->
<div class="modal fade" id="vehAddtionalDetails" tabindex="-1" role="dialog" aria-labelledby="vehAddtionalDetailsLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="max-width: fit-content;">
        <div class="modal-content">
         <div class="modal-header">

          <h6 class="modal-title" id="vehAddtionalDetailsLabel">Reg&nbsp;Number:&nbsp;{{this.regNo}}</h6>
          
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
         </div>
        
         <div class="modal-body">
            <table class="center" style="width: 100%;">
                <tr>

                    <fieldset class="RFS">
                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;">INSURANCE DETAILS</legend>
                    <table class="center">
                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">&nbsp;Status:&nbsp;</td>
                        <td><input disabled    type="text"  formControlName="insStatus"  id="insStatus"  class="form-control" > </td>

                        <td style="width: 15%" class="LabelFontStyle">&nbsp;Comp&nbsp;Name:&nbsp;</td>
                        <td><input disabled  type="text"  formControlName="insurerCompName"  id="insurerCompName" class="form-control"  style="width: 300px;"> </td>
                       
                        <td style="width: 15%" class="LabelFontStyle">&nbsp;Expiry:&nbsp;</td>
                        <td><input disabled    type="date"  formControlName="insuDate"  id="insuDate"  class="form-control" > </td>

                    </tr>

                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">&nbsp;Site&nbsp;:&nbsp;</td>
                        <td colspan="5"> <input disabled  type="text"  formControlName="insurerSite"  id="insurerSite" [(ngModel)]="insurerSite" class="form-control" style="width: 100%;"> </td>
                    </tr>
   
                    </table>
                    </fieldset>

                    <fieldset class="RFS">
                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;">WARRANTY DETAILS</legend>
                    <table class="center">
                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">OEM&nbsp;WR&nbsp;Status:&nbsp;</td>
                        <td><input disabled    type="text"  formControlName="oemWarrStatus"  id="oemWarrStatus"  class="form-control" > </td>

                        <td style="width: 15%" class="LabelFontStyle">&nbsp;OEM&nbsp;Expiry:&nbsp;</td>
                        <td><input disabled  type="date"  formControlName="oemWarrentyEndDate"  id="oemWarrentyEndDate" class="form-control"> </td>
                     
                    </tr>

                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">EW&nbsp;Status:&nbsp;</td>
                        <td><input disabled    type="text"  formControlName="ewStatus"  id="ewStatus"  class="form-control" > </td>

                        <td style="width: 15%" class="LabelFontStyle">&nbsp;EW&nbsp;Start&nbsp;Date:&nbsp;</td>
                        <td><input disabled  type="date"  formControlName="ewStartDate"  id="ewStartDate" class="form-control"> </td>
                
                        <td style="width: 15%" class="LabelFontStyle">&nbsp;EW&nbsp;Expiry:&nbsp;</td>
                        <td><input disabled  type="date"  formControlName="ewEndDate"  id="ewEndDate" class="form-control"> </td>
                    </tr>

                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">CNG&nbsp;Kit&nbsp;No:&nbsp;</td>
                        <td><input disabled    type="text"  formControlName="cngKitNumber"  id="cngKitNumber"  class="form-control" > </td>

                        <td style="width: 15%" class="LabelFontStyle">&nbsp;CNG&nbsp;Cylinder&nbsp;No:&nbsp;</td>
                        <td><input disabled  type="text"  formControlName="cngCylinderNo"  id="cngCylinderNo" class="form-control"> </td>
                
                        <td style="width: 15%" class="LabelFontStyle">&nbsp;CNG&nbsp;Expiry:&nbsp;</td>
                        <td><input disabled  type="date"  formControlName="cngEndDate"  id="cngEndDate" class="form-control"> </td>
                    </tr>

                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">MCP&nbsp;No&nbsp;:&nbsp;</td>
                        <td><input disabled    type="text"  formControlName="mcpNo"  id="mcpNo"  class="form-control" > </td>

                        <td style="width: 15%" class="LabelFontStyle">&nbsp;MCP&nbsp;Start&nbsp;Date:&nbsp;</td>
                        <td><input disabled  type="date"  formControlName="mcpStartDate"  id="mcpStartDate" class="form-control"> </td>
                
                        <td style="width: 15%" class="LabelFontStyle">&nbsp;MCP&nbsp;Expiry:&nbsp;</td>
                        <td><input disabled  type="date"  formControlName="mcpEndDate"  id="mcpEndDate" class="form-control"> </td>
                    </tr>

                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">Govt&nbsp;Vehicle&nbsp;:&nbsp;</td>
                        <td><input disabled    type="text"  formControlName="govtVehicleYn"  id="govtVehicleYn"  class="form-control" > </td>

                        <td style="width: 15%" class="LabelFontStyle">&nbsp;VIP&nbsp;:&nbsp;</td>
                        <td><input disabled  type="text"  formControlName="vipYn"  id="vipYn" class="form-control"> </td>
                
                     </tr>

                    </table>
                    </fieldset>

                    <div class="modal-footer">
                       <!-- <button type="button" class="btn btn-info" data-dismiss="modal">Close</button> -->
                       <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>


                </tr>
            </table>
         </div>
        </div>
    </div>
   </div>

   
<!-- ----------------------- DICOUNT APPLY------------------------------------ -->
<div class="modal fade" id="DiscountDetails" tabindex="-1" role="dialog" aria-labelledby="DiscountDetailsLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document" style="max-width: fit-content;">
        <div class="modal-content">
         <div class="modal-header">

          <h6 class="modal-title" id="DiscountDetailsLabel">&nbsp;{{this.regNo}} &nbsp;&nbsp;{{this.jobCardNum}} </h6>
          
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
         </div>
        
         <div class="modal-body">
            <table class="center" style="width: 100%;">
                <tr>

                    <fieldset class="RFS">
                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;"><b> Discount Application</b> </legend>
                        <table class="auto-style4" class="GridFont" cellspacing="0"
                            cellpadding="4" border="0" id="ctl00_cpForm_grdActions"
                            style="border-color:#959595;width:100%;border-collapse:collapse;">
                            <thead>
                                <tr class="GridHeader">
                                    <th scope="col">Billable Type</th>
                                   
                                    <th scope="col" style="text-align: left;"> Lbr Dis Type</th>
                                    <th scope="col" style="text-align: right;">Lbr Dis%</th>
                                    <th scope="col" style="text-align: right;">Lbr Disount&nbsp;&nbsp;</th>
                                   
                                    <th scope="col" style="text-align: left;">Matrl Dis Type</th>
                                    <th scope="col" style="text-align: right;">Matrl Dis%</th>
                                    <th scope="col" style="text-align: right;">Matrl Disount&nbsp;&nbsp;</th>
                                   
                                </tr>
                            </thead>
                            <tbody>

                                <tr class="ItemStyle" style="text-decoration:none;">

                                    <td style="width: 10em;text-align: center;" class="LabelFontStyle" >Customer&nbsp;</td>
                               
                                    <div *ngIf="showServiceCustomer ;then srm1; else srm2"></div>
                                    <ng-template #srm1>
                                    <td>
                                        <select   formControlName="disTypeLab" value={{disTypeLab}} style="font-weight: bold;font-size: small;"
                                            id="disTypeLab" class="form-control"
                                            (ngModelChange)='onOptionsDisTypeLabSelected($event,1)'>
                                            <!-- <option >--Select--</option> -->
                                            <option></option>
                                            <option >None</option>
                                            <option *ngFor="let sc of  DisTypeMatList">
                                                {{sc.model}}
                                            </option>
                                        </select>
                                    </td>

                                    <div *ngIf="showLabdisP ;then sdp1; else sdp2"></div>
                                    <ng-template #sdp1>
                                    <td><select   formControlName="labDiscountPer1"  value={{labDiscountPer1}}
                                            id="labDiscountPer1" class="form-control" style="width: 4em;font-weight: bold;font-size: small;"
                                            (ngModelChange)="labDiscountPerCal($event,1)">
                                            <option >0</option>
                                            <option
                                                *ngFor="let sc of  labDiscountPerList" [value]="sc.code" >
                                                {{sc.code}}
                                            </option>
                                        </select></td>
                                    </ng-template>
                                    <ng-template #sdp2>
                                        <td><input  disabled type="number"   min="0"     formControlName="labDiscountPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td>
                                    </ng-template>

                                    <div *ngIf="showLabDisCol ;then sd1; else sd2"></div>
                                    <ng-template #sd1>
                                         <td><input  type="number"   min="0"     formControlName="labDiscount" class="form-control" (change)="labDiscountAmtCal($event,1)" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                    </ng-template>
                                    <ng-template #sd2>
                                         <td><input disabled type="number"   min="0"  formControlName="labDiscount" class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                    </ng-template>

                                    </ng-template>
                                    <ng-template #srm2> </ng-template>
                                            

                                    
                                    <div *ngIf="showServiceCustomer ;then srm11; else srm21"></div>
                                    <ng-template #srm11>
                                        <td>
                                            <select   formControlName="disTypeMat" value={{disTypeMat}} style="font-weight: bold;font-size: small;"
                                                id="disTypeMat" class="form-control"
                                                (ngModelChange)='onOptionsDisTypeMatSelected($event,1)'>
                                                <!-- <option >--Select--</option> -->
                                                <option></option>
                                                <option >None</option>
                                                <option *ngFor="let sc of  DisTypeMatList">
                                                    {{sc.model}}
                                                </option>
                                            </select>
                                            
                                        </td>

                                    <div *ngIf="showMatDisP ;then mdp1; else mdp2"></div>
                                    <ng-template #mdp1>
                                    <td><select    formControlName="matDiscountPer1" value={{matDiscountPer1}}   class="form-control" style="width: 4em;font-weight: bold;font-size: small;"
                                        id="matDiscountPer1" class="form-control"
                                        (ngModelChange)="matDiscountPerCal($event,1)">
                                        <option >0</option>
                                        <option
                                            *ngFor="let sc of  matDiscountPerList" [value]="sc.code" >
                                            {{sc.code}}
                                        </option> 
                                      </select></td>
                                    </ng-template>
                                    <ng-template #mdp2>
                                        <td><input disabled type="number" min="0" formControlName="matDiscountPer"  style="width: 4em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                    </ng-template>

                                      <div *ngIf="showMatDisCol ;then mdm1; else mdm2"></div>
                                      <ng-template #mdm1>
                                        <td><input type="number" min="0" formControlName="matDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  (change)="matDiscountAmtCal($event,1)"></td>
                                      </ng-template>
                                      <ng-template #mdm2>
                                        <td><input disabled type="number" min="0" formControlName="matDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                     </ng-template>

                                    </ng-template>
                                    <ng-template #srm21> 
                                                               
                                    </ng-template>
                                       

                                </tr>

                                <!-- ===========================ADDON================================================= -->

                                <div *ngIf="addonBillable; then ADD101; else ADD102"></div>
                                <ng-template #ADD102></ng-template>
                                <ng-template #ADD101>
                            
                                <tr class="ItemStyle" style="text-decoration:none;">

                                    <td style="width: 10em;text-align: center;" class="LabelFontStyle" >Addon&nbsp;</td>
                               
                                    <div *ngIf="showServiceCustomer ;then srmadd1; else srmadd2"></div>
                                    <ng-template #srmadd1>
                                    <td>
                                        <select   formControlName="disTypeLabAdn" value={{disTypeLabAdn}} [(ngModel)]="disTypeLabAdn" style="font-weight: bold;font-size: small;"
                                            id="disTypeLabAdn" class="form-control"
                                            (ngModelChange)='onOptionsDisTypeLabSelected($event,41)'>
                                            <!-- <option >--Select--</option> -->
                                            <option></option>
                                            <option >None</option>
                                            <option *ngFor="let sc of  DisTypeMatList">
                                                {{sc.model}}
                                            </option>
                                        </select>
                                    </td>


                                    <div *ngIf="addonLabdisP ;then sdpadd1; else sdpadd2"></div>
                                    <ng-template #sdpadd1>
                                    <td><select   formControlName="addonLabDiscountPer1"  value={{addonLabDiscountPer1}}
                                            id="addonLabDiscountPer1" class="form-control" style="width: 4em;font-weight: bold;font-size: small;"
                                            (ngModelChange)="labDiscountPerCal($event,41)">
                                            <option >0</option>
                                            <option
                                                *ngFor="let sc of  labDiscountPerList" [value]="sc.code" >
                                                {{sc.code}}
                                            </option>
                                        </select></td>
                                    </ng-template>
                                    <ng-template #sdpadd2>
                                        <td><input  disabled type="number"   min="0"     formControlName="addonLabDiscountPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td>
                                    </ng-template>

                                    <div *ngIf="addonLabDisCol ;then sdadd1; else sdadd2"></div>
                                    <ng-template #sdadd1>
                                         <td><input  type="number"   min="0"     formControlName="addonLabDiscount"  class="form-control" (change)="labDiscountAmtCal($event,41)" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                    </ng-template>
                                    <ng-template #sdadd2>
                                         <td><input disabled type="number"   min="0"  formControlName="addonLabDiscount"   class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                    </ng-template>
                                    </ng-template>

                                    <ng-template #srmadd2></ng-template>

                                    

                                    <div *ngIf="showServiceCustomer ;then srmadd11; else srmadd21"></div>
                                    <ng-template #srmadd11>
                                        <td>
                                            <select   formControlName="disTypeMatAdn" value={{disTypeMatAdn}} style="font-weight: bold;font-size: small;"
                                                id="disTypeMatAdn" class="form-control"
                                                (ngModelChange)='onOptionsDisTypeMatSelected($event,41)'>
                                                <!-- <option >--Select--</option> -->
                                                <option></option>
                                                <option >None</option>
                                                <option *ngFor="let sc of  DisTypeMatList">
                                                    {{sc.model}}
                                                </option>
                                            </select>
                                            
                                        </td>

                                    <div *ngIf="addonMatdisP ;then mdpmadd1; else mdpmadd2"></div>
                                    <ng-template #mdpmadd1>
                                    <td><select    formControlName="addonMatDiscoutPer1" value={{addonMatDiscoutPer1}}   class="form-control" style="width: 4em;font-weight: bold;font-size: small;"
                                        id="addonMatDiscoutPer1" class="form-control"
                                        (ngModelChange)="matDiscountPerCal($event,41)">
                                        <option >0</option>
                                        <option
                                            *ngFor="let sc of  matDiscountPerList" [value]="sc.code" >
                                            {{sc.code}}
                                        </option> 
                                      </select></td>
                                    </ng-template>
                                    <ng-template #mdpmadd2>
                                        <td><input disabled type="number" min="0" formControlName="addonMatDiscoutPer"  style="width: 4em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                    </ng-template>

                                      <div *ngIf="addonMatDisCol ;then mdmaddon1; else mdmaddon2"></div>
                                      <ng-template #mdmaddon1>
                                        <td><input type="number" min="0" formControlName="addonMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  (change)="matDiscountAmtCal($event,41)"></td>
                                      </ng-template>
                                      <ng-template #mdmaddon2>
                                        <td><input disabled type="number" min="0" formControlName="addonMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                     </ng-template>
                                    </ng-template>
                                    <ng-template #srmadd21></ng-template>
                                </tr>
                                </ng-template>
                            <!-- ======================================================================================== -->

                             <!-- ===========================CWI================================================= -->

                             <div *ngIf="cwiBillable; then CWI101; else CWI102"></div>
                             <ng-template #CWI102></ng-template>
                             <ng-template #CWI101>
                             <tr class="ItemStyle" style="text-decoration:none;">

                                <td style="width: 10em;text-align: center;" class="LabelFontStyle" >CWI&nbsp;</td>
                           
                                <div *ngIf="showServiceCustomer ;then srmcwi1; else srmcwi2"></div>
                                <ng-template #srmcwi1>
                                <td>
                                    <select disabled  formControlName="disTypeLabCwi" value={{disTypeLabCwi}} style="font-weight: bold;font-size: small;"
                                        id="disTypeLabCwi" class="form-control"
                                        (ngModelChange)='onOptionsDisTypeLabSelected($event,21)'>
                                        <!-- <option >--Select--</option> -->
                                        <option >None</option>
                                        <option *ngFor="let sc of  DisTypeMatList">
                                            {{sc.model}}
                                        </option>
                                    </select>
                                </td>


                                <div *ngIf="cwiLabdisP ;then sdpcwi1; else sdpcwi2"></div>
                                <ng-template #sdpcwi1>
                                <td><select   formControlName="cwiLabDiscountPer1"  value={{cwiLabDiscountPer1}}
                                        id="cwiLabDiscountPer1" class="form-control" style="width: 4em;font-weight: bold;font-size: small;"
                                        (ngModelChange)="labDiscountPerCal($event,21)">
                                        <option >0</option>
                                        <option
                                            *ngFor="let sc of  labDiscountPerList" [value]="sc.code" >
                                            {{sc.code}}
                                        </option>
                                    </select></td>
                                </ng-template>
                                <ng-template #sdpcwi2>
                                    <td><input  disabled type="number"   min="0"     formControlName="cwiLabDiscountPer" class="form-control"  style="width: 4em;font-weight: bold;font-size: small;"></td>
                                </ng-template>

                                <div *ngIf="cwiLabDisCol ;then sdcwi1; else sdcwi2"></div>
                                <ng-template #sdcwi1>
                                     <td><input  type="number"   min="0"     formControlName="cwiLabDiscount" class="form-control" (change)="labDiscountAmtCal($event,21)" style="width: 7em;font-weight: bold;font-size: small;"></td>
                                </ng-template>
                                <ng-template #sdcwi2>
                                     <td><input disabled type="number"   min="0"  formControlName="cwiLabDiscount" class="form-control"  style="width: 7em;font-weight: bold;font-size: small;"></td>
                                </ng-template>
                                </ng-template>

                                <ng-template #srmcwi2></ng-template>

                                

                                <div *ngIf="showServiceCustomer ;then srmcwi11; else srmcwi21"></div>
                                <ng-template #srmcwi11>
                                    <td>
                                        <select disabled  formControlName="disTypeMatCwi" value={{disTypeMatCwi}} style="font-weight: bold;font-size: small;"
                                            id="disTypeMatCwi" class="form-control"
                                            (ngModelChange)='onOptionsDisTypeMatSelected($event,21)'>
                                            <!-- <option >--Select--</option> -->
                                            <option >None</option>
                                            <option *ngFor="let sc of  DisTypeMatList">
                                                {{sc.model}}
                                            </option>
                                        </select>
                                        
                                    </td>

                                <div *ngIf="cwiMatdisP ;then mdpmcwi1; else mdpmcwi2"></div>
                                <ng-template #mdpmcwi1>
                                <td><select    formControlName="cwiMatDiscoutPer1" value={{cwiMatDiscoutPer1}}   class="form-control" style="width: 4em;font-weight: bold;font-size: small;"
                                    id="cwiMatDiscoutPer1" class="form-control"
                                    (ngModelChange)="matDiscountPerCal($event,21)">
                                    <option >0</option>
                                    <option
                                        *ngFor="let sc of  matDiscountPerList" [value]="sc.code" >
                                        {{sc.code}}
                                    </option> 
                                  </select></td>
                                </ng-template>
                                <ng-template #mdpmcwi2>
                                    <td><input disabled type="number" min="0" formControlName="cwiMatDiscoutPer"  style="width: 4em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                </ng-template>

                                  <div *ngIf="cwiMatDisCol ;then mdmcwi1; else mdmcwi2"></div>
                                  <ng-template #mdmcwi1>
                                    <td><input type="number" min="0" formControlName="cwiMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  (change)="matDiscountAmtCal($event,21)"></td>
                                  </ng-template>
                                  <ng-template #mdmcwi2>
                                    <td><input disabled type="number" min="0" formControlName="cwiMatDiscout"  style="width: 7em;font-weight: bold;font-size: small;" class="form-control"  ></td>
                                 </ng-template>
                                </ng-template>
                                <ng-template #srmcwi21></ng-template>
                            </tr>
                             </ng-template>
                        <!-- ======================================================================================== -->

                                                                    
                            </tbody>
                        </table>
                    </fieldset>

                

                    <div class="modal-footer">
                       <!-- <button type="button" class="btn btn-info" data-dismiss="modal">Close</button> -->
                       <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>


                </tr>
            </table>
         </div>
        </div>
    </div>
   </div>

</form>


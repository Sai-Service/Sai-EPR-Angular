<div class="center">
    <table style="width: 100%;background-color: white;">
        <tr>
            <td class="PageHeader">
                &nbsp;&nbsp;MCP&nbsp;ITEM&nbsp;MASTER&nbsp;
            </td>
        </tr>
    </table>
    
    <div class="center" style="width: 100%;">
        <div class="form-bg">
            <div class="center" style="width: 100%;">
                <form [formGroup]="mcpItemMasterForm" (ngSubmit)="mcpItemMaster(mcpItemMasterForm.value)">

                     <table class="center">
                        <tr>

                        <td  class="LabelFontStyle">Div/ouid/locid/deptid/empId&nbsp;:&nbsp;</td>

                        <td   style="border: none;color: black;">
                            <input type="text" disabled formControlName="loginArray"
                                class="form-control" [(ngModel)]="loginArray" placeholder="">
                        </td>
                    
                        <td>
                            <input   style="width:30px ;"  disabled type="text" formControlName="ouId"
                            class="form-control" [(ngModel)]="ouId" >
                        </td>
                    
                        <td>
                            <input  style="width:30px ;" disabled type="text" formControlName="locId"  [(ngModel)]="locId" class="form-control"  >
                        </td>

                        <td >
                            <input  style="width:30px ;"  type="text" disabled formControlName="deptId"
                            class="form-control" [(ngModel)]="deptId" placeholder="">

                        </td>

                        <td >
                            <input  style="width: 20px;"  type="text" disabled formControlName="emplId"
                            class="form-control" [(ngModel)]="emplId" placeholder="">

                        </td>

                        <td>
                            <input  style="width:30px ;" disabled type="number" formControlName="itemId"  [(ngModel)]="itemId" class="form-control"  >
                        </td>
                       

                                            
                        </tr>
                    </table>

                    <fieldset class="RFS">
                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;">MCP ITEM DETAILS</legend>
                        <table class="center">
                            <tr>

                                <td style="width: 15%" class="LabelFontStyle">Item&nbsp;Number:&nbsp;</td>
                                    
                                <td>
                                    <input   type="text"  formControlName="itemNumber"  id="itemNumber" [(ngModel)]="itemNumber" class="form-control" >
                                </td>

                                <td style="width: 15%" class="LabelFontStyle">Item&nbsp;type:&nbsp;</td>
                                        
                                <td>  
                                    <select   formControlName="itemType" id="itemType" [(ngModel)]="itemType" class="form-control">
                                        <option disabled>--Select--</option>
                                        <option *ngFor="let sc of  ItemTypeList1" [ngValue]="sc.code">
                                            <!-- {{sc.cmnTypeId}}- -->
                                            {{sc.code}}
                                        </option>
                                    </select>
                                </td>

                            </tr>


                            <tr>
                                <td style="width: 15%" class="LabelFontStyle">Item&nbsp;Name:&nbsp;</td>
                                    
                                <td>
                                    <input   type="text"  formControlName="itemName"  id="itemName" [(ngModel)]="itemName" class="form-control" >
                                </td>

                                <td style="width: 15%" class="LabelFontStyle">Item&nbsp;Description:&nbsp;</td>
                                    
                                <td>
                                    <input   type="text"  formControlName="itemDesc"  id="itemDesc" [(ngModel)]="itemDesc" class="form-control" >
                                </td>
                          

                            
                            
                           </tr>

                            <tr>
                                <td style="width: 15%" class="LabelFontStyle">Discount&nbsp;:&nbsp;</td>
                                    
                                <td>
                                    <input   type="number"  formControlName="discount"  id="discount" [(ngModel)]="discount" class="form-control" >
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 15%" class="LabelFontStyle">Start&nbsp;Date:&nbsp;</td>
                                        
                                <td>
                                    <input   type="date"  formControlName="startDate"  id="startDate"  [(ngModel)]="startDate" class="form-control" >
                                </td>
                                <td style="width: 15%" class="LabelFontStyle">End&nbsp;Date:&nbsp;</td>
                                        
                                <td>
                                    <input   type="date"  formControlName="endDate"  id="endDate" [(ngModel)]="endDate" class="form-control" >
                                </td>
    
                            </tr>

                            
                           </table>
                    </fieldset>

                    <br>
                    <!-- ===================================Buttons======================================== -->
                      <table class="center">
                        <tr>
                            <div *ngIf="displayButton; then thenBlock1; else elseBlock1"></div>
                            <ng-template #thenBlock1>
                                <td>
                                    <button type="button" class="btn btn-info" (click)="newMast()" [disabled]="!mcpItemMasterForm">Save</button>
                                </td>

                             
                                
                                <td>
                                    <button type="button" class="btn btn-info" (click)="searchMast()">Search</button>
                                </td>

                                    <!-- ====================Reset Dialog ======================== -->

                                <td>
                                    <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">Reset</button>
                                </td>
                                 <!-- Modal -->
                                    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="width:600px;">
                                        <div class="modal-dialog modal-dialog-centered " role="document">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <label style="font-size: small; color: black;font-weight: bold; text-align:center;vertical-align: middle;">
                                                    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                    Want&nbsp;to&nbsp;Reset. &nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                </label>
                                            </div>
                                            <div class="modal-footer">
                                                <table class="center">
                                                    <tr>
                                                        <td>
                                                            <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                        </td>
                                                        <td>
                                                            <button type="submit" class="btn btn-info" id="register" (click)="resetMast()">Yes</button> 
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        </div>
                                    </div>

                                        <!-- =====================Close Dialog Box====================== -->
                                        <td>
                                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModalLong">Close</button>
                                        </td>
                                        <!-- Modal -->
                                        <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" style="width:600px;">
                                            <div class="modal-dialog modal-dialog-centered " role="document">
                                            <div class="modal-content">
                                                <div class="modal-body">
                                                    <label style="font-size: small; color: black; font-weight: bold; text-align: center; vertical-align: middle;">
                                                        <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                        Want&nbsp;to&nbsp;Close.&nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                    </label>
                                                </div>
                                                <div class="modal-footer">
                                                    <table class="center">
                                                        <tr>
                                                            <td>
                                                            <button  type="submit" class="btn btn-info" data-dismiss="modal" id="register"   (click)="closeMast()">Yes</button>
                                                            </td>
                                                            <td>
                                                            <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            </div>
                                        </div>

                        <!-- ==================================================== -->

                                    </ng-template>
                                    <ng-template #elseBlock1>
                                   
                                            <td>
                                                <button type="button" class="btn btn-info" (click)="updateMast()"[disabled]="!mcpItemMasterForm">Update</button>
                                            </td>

                                            <div *ngIf="displaySuccess; then thenBlockSaveStat; else elseBlockSaveStat"></div>
                                            <ng-template #thenBlockSaveStat>
                                                <div class="alert alert success alert-dismissible fade show " role="alert">
                                                    <strong>Success!</strong> Record Updated Successfully.
                                                    <button  type="button" (click)="closeAlert()" class="close" data-dismiss="alert" aria-label="Close">
                                                      <span aria-hidden="true">&times;</span>
                                                    </button>
                                                  </div>
                                            </ng-template>
                                            <ng-template #elseBlockSaveStat>
                                                <!-- <div class="alert warning">
                                                    <span class="closebtn">&times;</span>  
                                                    <strong>Warning!</strong> Rcord Not added.Please check
                                                </div> -->
                                            </ng-template>
                                            <td>
                                                <button type="button" class="btn btn-info" (click)="searchMast()">Search</button>
                                            </td>
                                            <!-- <td>
                                                <button type="submit" class="btn btn-primary" id="register" (click)="resetMast()">Reset</button>
                                            </td>
                                            <td>
                                                <button type="submit" class="btn btn-primary" id="register" (click)="closeMast()">Close</button>
                                                        </td> -->
            <!-- ====================Reset Dialog ======================== -->

                                    <td>
                                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">Reset</button>
                                    </td>
                                    <!-- Modal -->
                                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="width:600px;">
                                                    <div class="modal-dialog modal-dialog-centered " role="document">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <label style="font-size: small; color: black;font-weight: bold; text-align:center;vertical-align: middle;">
                                                    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                    Want&nbsp;to&nbsp;Reset. &nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                </label>
                                            </div>
                                            <div class="modal-footer">
                                                <table class="center">
                                                    <tr>
                                                        <td>
                                                            <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                        </td>
                                                        <td>
                                                            <button type="submit" class="btn btn-info" id="register" (click)="resetMast()">Yes</button> 
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        </div>
                                    </div>

                             <!-- =====================Close Dialog Box====================== -->
                                <td>
                                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModalLong">Close</button>
                                </td>
                                        <!-- Modal -->
                                    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" style="width:600px;">
                                        <div class="modal-dialog modal-dialog-centered " role="document">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <label style="font-size: small; color: black; font-weight: bold; text-align: center; vertical-align: middle;">
                                                    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                    Want&nbsp;to&nbsp;Close.&nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                </label>
                                            </div>
                                            <div class="modal-footer">
                                                <table class="center">
                                                    <tr>
                                                        <td>
                                                        <button  type="submit" class="btn btn-info" data-dismiss="modal" id="register"   (click)="closeMast()">Yes</button>
                                                        </td>
                                                        <td>
                                                        <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        </div>
                                    </div>
                                 <!-- ==================================================== -->
                                    </ng-template>
                                    <!-- <td>
                                        <button type="button" class="btn btn-info"  (click)="AlertDialog()"  >alert</button>
                                    </td> -->
 

                                    <!-- <td>
                                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModalLongMsg" (click)="AlertDialog()"  >alert</button>
                                    </td> -->

                                   
                                        <!-- ------------------------------------------------ -->

                                        <div *ngIf="isAlert; then ShowMsgYes; else ShowMsgNo"></div>
                                        <ng-template #ShowMsgYes> 
                                            <div class="modal fade" id="exampleModalLongMsg" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitleMsg" aria-hidden="true" style="width:600px;">
                                                <div class="modal-dialog" role="document">
                                                    <div class="modal-content">

                                                    <div class="modal-header" style="background-color:lightblue; height:auto;" >
                                                        <h5 class="modal-title"  id="exampleModal3Label">{{alertMsgTitle}}</h5>
                                                            
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                            </button>
                                                    </div>
                                                        <div class="modal-body">
                                                            <label style="font-size: small; color: black; font-weight: bold; text-align: right; vertical-align: middle;">
                                                                {{alertMsg}}
                                                            </label>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <table class="center">
                                                                <tr>
                                                                    <td>
                                                                    <button type="button" class="btn btn-info" data-dismiss="modal">ok</button>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </div>
                                                </div>
                                                </div>
                                            </div>
                                        
                                        </ng-template>
                                        <ng-template #ShowMsgNo>

                                        </ng-template>

                                        <!-- -------------------------------------------------------- -->
                                  

                                                               
                                </tr>
                            </table>
                            <!-- ==================================================== -->

                </form>
            </div>
        </div>
    </div>
</div>

<br>

<div class="container1">
    <div class="grid_scroll">
    <table class="auto-style4" class="GridFont" cellspacing="0" cellpadding="4" border="0" id="ctl00_cpForm_grdActions" style="border-color:#959595;border-collapse:collapse;width: 100%;">
        <tbody>
                <tr class="GridHeader">
                <th style="width:5rem" scope="col">Item&nbsp;Id&nbsp;</th>    
                <th style="width:5rem" scope="col">Item&nbsp;Number&nbsp;</th>
                <th style="width:15rem" scope="col"> Item&nbsp;Name</th>
                <th style="width:6rem" scope="col"> Item&nbsp;Type</th>
                <th style="width:10rem" scope="col">Discount&nbsp;</th>
                <th style="width:12rem" scope="col">Start&nbsp;Date</th>
                <th style="width:6rem" scope="col">Select</th>
            </tr>
        </tbody>
        <tr *ngFor="let com of lstcomments" class="ItemStyle" style="text-decoration:none;">
                <td>{{com.itemId}}</td>
                <td>{{com.itemNumber}}</td>
                <td>{{com.itemName}}</td>   
                <td>{{com.itemType}}</td>   
                <td style="text-align: right;">{{com.discount}}</td> 
                <td>{{com.startDate | date:'dd-MM-y'}}</td>
                <td><button class="btn btn-info" (click)="Select(com.itemId)">Select</button></td>   
        </tr> 
    </table>
</div>
</div>



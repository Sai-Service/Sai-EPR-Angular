<div class="center">
    <table style="width: 100%;background-color: white;">
        <tr>
            <td class="PageHeader">
                &nbsp;&nbsp;MCP&nbsp;ENQUIRY&nbsp;GENERATION&nbsp;
            </td>
        </tr>
    </table>
    
    <div class="center" style="width: 100%;">
        <div class="form-bg">
            <div class="center" style="width: 100%;">
                <form [formGroup]="mcpEnquiryForm" (ngSubmit)="mcpEnquiry(mcpEnquiryForm.value)">

                     <table class="center">
                        <tr>

                        <td  class="LabelFontStyle">Div/ouid/locid/deptid/empId&nbsp;:&nbsp;</td>

                        <td   style="border: none;color: black;">
                            <input type="text" disabled formControlName="loginArray"
                                class="form-control" [(ngModel)]="loginArray" placeholder="">
                        </td>
                    
                        <td>
                            <input   style="width:30px ;"  disabled type="text" formControlName="ouId"
                            class="form-control" [(ngModel)]="ouId" >
                        </td>
                    
                        <td>
                            <input  style="width:30px ;" disabled type="text" formControlName="locId"  [(ngModel)]="locId" class="form-control"  >
                        </td>

                        <td >
                            <input  style="width:30px ;"  type="text" disabled formControlName="deptId"
                            class="form-control" [(ngModel)]="deptId" placeholder="">

                        </td>

                        <td >
                            <input  style="width: 20px;"  type="text" disabled formControlName="emplId"
                            class="form-control" [(ngModel)]="emplId" placeholder="">
                        </td>

                        <td>
                            <input disabled style="width:30px ;" type="text"  formControlName="customerId"  id="custId" [(ngModel)]="customerId" class="form-control" >
                        </td>
                        <td>
                            <input disabled style="width:30px ;" type="text"  formControlName="vehicleAgeDays"  id="vehicleAgeDays" [(ngModel)]="vehicleAgeDays" class="form-control" >
                        </td>

                        <td>
                            <input  disabled  style="width:50px ;"  type="text" formControlName="lastRunKms"  id="lastRunKms" [(ngModel)]="lastRunKms" class="form-control">
                        </td>

                        <td>
                            <input  disabled  style="width:50px ;"  type="text" formControlName="customerSiteId"  id="customerSiteId" [(ngModel)]="customerSiteId" class="form-control">
                        </td>

                        <td>
                            <input  disabled type="text"  formControlName="packageType"  id="packageType" [(ngModel)]="packageType" class="form-control" >
                        </td>

                        
                        <td>
                            <input  disabled  style="width:50px ;"  type="text" formControlName="itemId"  id="itemId" [(ngModel)]="itemId" class="form-control">
                        </td>
                        <td>
                            <input  disabled  style="width:50px ;"  type="text" formControlName="sourceDesc"  id="sourceDesc" [(ngModel)]="sourceDesc" class="form-control">
                        </td>
                        <td>
                            <input  disabled  style="width:50px ;"  type="text" formControlName="colorCode"  id="colorCode" [(ngModel)]="colorCode" class="form-control">
                        </td>
                        
                        
                        
                        </tr>
                    </table>
                       
                    <fieldset class="RFS">
                    <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;">VEHICLE DETAILS</legend>
                        <table class="center">
                            
                            <tr>

                                <td style="width: 15%" class="LabelFontStyle">Source&nbsp;:&nbsp;</td>

                                <div *ngIf="displayButton; then pYes; else pNo"></div>
                                <ng-template #pYes>
                                <td> 
                                    <select  formControlName="sourceDesc" id="sourceDesc" [(ngModel)]="sourceDesc" class="form-control" (ngModelChange)="onSourceSelected(sourceDesc)">
                                        <!-- <option value=""></option> -->
                                        <option value="SERVICE">SERVICE</option>
                                        <option value="SALES">SALES</option>
                                   </select>
                                </td>
                                </ng-template>
        
                                <ng-template #pNo>
                                <td> 
                                    <select disabled  formControlName="sourceDesc" id="sourceDesc" [(ngModel)]="sourceDesc" class="form-control" (ngModelChange)="onSourceSelected(paytmentSource)">
                                        <option value="SERVICE">SERVICE</option>
                                        <option value="SALES">SALES</option>
                                    </select>
                                </td>
                              </ng-template>

                              <div *ngIf="displayButton; then thenBlock905; else elseBlock905"></div>
                              <ng-template #thenBlock905>
                                
                                  
                                  <div *ngIf="showOrderInputLine; then ordBlockYes; else ordBlockNo"></div>
                                 
                                  <ng-template #ordBlockYes>
                                  <td style="width: 15%" class="LabelFontStyle">Order&nbsp;No:&nbsp;</td>
                                  <td>
                                    <input   type="text"  formControlName="orderNumber"  id="orderNumber" [(ngModel)]="orderNumber" class="form-control" (change)="GetOrderDetails(orderNumber)" placeholder="Enter Order No & click click on button right ." >
                                  </td>
                                      <!-- <td>
                                          <table>
                                              <tr>
                                                <td>
                                                  <input   type="text"  formControlName="orderNumber"  id="orderNumber" [(ngModel)]="orderNumber" class="form-control" placeholder="Enter Order No & click click on button right ." >
                                                </td>
          
                                                <td colspan="8" style="text-align: left; width: 100%;height: 26px;">
                                                  <button type="submit" class="btn btn-primary" (click)="GetOrderDetails(orderNumber)" >...</button>
                                                </td>
          
                                             </tr>
                                          </table>
                                      </td> -->
          
                                      <td style="width: 15%" class="LabelFontStyle1">Reg&nbsp;No:&nbsp;</td>
              
                                      <td>
                                       <input disabled style="font-weight: bold;" type="text"
                                          formControlName="regNo"
                                          [(ngModel)]="regNo"
                                          (change)="serchByRegNo(regNo)"
                                          (keyup)="getUserIdsFirstWay($event)"
                                          id="userIdFirstWay"
                                          list="dynmicUserIds"
                                          class="form-control" />
              
                                          <datalist id="dynmicUserIds">
                                              <option
                                                  *ngFor="let item of VehRegNoList"
                                                  [ngValue]="item.regNo">
                                                  {{item.regNo}}
                                              </option>
                                          </datalist>
              
                                      </td> 
          
                                  </ng-template>
                                  <ng-template #ordBlockNo>
                                      <td style="width: 15%" class="LabelFontStyle">Order&nbsp;No:&nbsp;</td>
                                     <td>
                                          <input disabled  type="text"  formControlName="orderNumber"  id="orderNumber" [(ngModel)]="orderNumber" class="form-control" >
                                      </td>
          
                                      <td style="width: 15%" class="LabelFontStyle1">Reg&nbsp;No:&nbsp;</td>
              
                                      <td>
                                       <input style="font-weight: bold;" type="text"
                                          formControlName="regNo"
                                          [(ngModel)]="regNo"
                                          (change)="serchByRegNo(regNo)"
                                          (keyup)="getUserIdsFirstWay($event)"
                                          id="userIdFirstWay"
                                          list="dynmicUserIds"
                                          class="form-control" />
              
                                          <datalist id="dynmicUserIds">
                                              <option
                                                  *ngFor="let item of VehRegNoList"
                                                  [ngValue]="item.regNo">
                                                  {{item.regNo}}
                                              </option>
                                          </datalist>
              
                                      </td> 
                                  </ng-template>

                              </ng-template>
                              <ng-template #elseBlock905>
          
                                  <td style="width: 15%" class="LabelFontStyle">Order&nbsp;No:&nbsp;</td>
                                   <td>
                                          <input disabled  type="text"  formControlName="orderNumber"  id="orderNumber" [(ngModel)]="orderNumber" class="form-control" >
                                      </td>
          
                                      <td style="width: 15%" class="LabelFontStyle1">Reg&nbsp;No:&nbsp;</td>
              
                                      <td>
                                       <input disabled style="font-weight: bold;" type="text"
                                          formControlName="regNo"
                                          [(ngModel)]="regNo"
                                          (change)="serchByRegNo(regNo)"
                                          (keyup)="getUserIdsFirstWay($event)"
                                          id="userIdFirstWay"
                                          list="dynmicUserIds"
                                          class="form-control" />
              
                                          <datalist id="dynmicUserIds">
                                              <option
                                                  *ngFor="let item of VehRegNoList"
                                                  [ngValue]="item.regNo">
                                                  {{item.regNo}}
                                              </option>
                                          </datalist>
              
                                      </td> 
          
          
                              </ng-template>

                                <td style="width: 15%" class="LabelFontStyle1">VIN&nbsp;:&nbsp;</td>
    
                                <td>
                                <input disabled type="text"
                                formControlName="vehicleId"
                                [(ngModel)]="vehicleId"
                                (change)="serchByVin(vehicleId)"
                                (keyup)="getUserIdsFirstWayVin($event)"
                                id="userIdFirstWay"
                                list="dynmicUserIds1"
                                class="form-control" />
    
                                <datalist id="dynmicUserIds1">
                                    <option
                                        *ngFor="let item of VehVinList"
                                        [ngValue]="item.vin">
                                        {{item.vin}}
                                    </option>
                                </datalist>
                              </td>
                                   
                        </tr>
                        <tr>
                            <td style="width: 15%" class="LabelFontStyle">Item&nbsp;Code:&nbsp;</td>
        
                            <td>
                                <input disabled  type="text"  formControlName="vehicleItem"  id="vehicleItem" [(ngModel)]="vehicleItem" class="form-control" >
                            </td>
                            
    
                        <td style="width: 15%" class="LabelFontStyle">Variant&nbsp;:&nbsp;</td>
    
                        <td>
                            <input disabled  type="text"  formControlName="variantCode"  id="variantCode" [(ngModel)]="variantCode" class="form-control" >
                        </td>
    
                        <td style="width: 15%" class="LabelFontStyle">Model&nbsp;:&nbsp;</td>
    
                        <td>
                            <input disabled  type="text"  formControlName="mainModel"  id="mainModel" [(ngModel)]="mainModel" class="form-control" >
                        </td>
    
                        <td style="width: 15%" class="LabelFontStyle">Fuel&nbsp;Type:&nbsp;</td>
        
                        <td>
                            <input disabled  type="text"  formControlName="fuelType"  id="fuelType" [(ngModel)]="fuelType" class="form-control" >
                        </td>
    
                        
                        </tr>

                        

                        <tr>
                            <td style="width: 15%" class="LabelFontStyle">Chassis&nbsp;No:&nbsp;</td>
    
                        <td>
                            <input  disabled type="text"  formControlName="chassisNo"  id="chassisNo" [(ngModel)]="chassisNo" class="form-control" >
                        </td>
                        <td style="width: 15%" class="LabelFontStyle">Engine&nbsp;No:&nbsp;</td>
    
                        <td>
                            <input disabled  type="text"  formControlName="engineNo"  id="engineNo" [(ngModel)]="engineNo" class="form-control" >
                        </td>

                        <td style="width: 15%" class="LabelFontStyle">Sale&nbsp;Date:&nbsp;</td>
    
                        <td>
                            <input disabled  type="text"  formControlName="deliveryDate"  id="deliveryDate" [(ngModel)]="deliveryDate" class="form-control" >
                        </td>
    
                        <td style="width: 15%" class="LabelFontStyle">Selling&nbsp;Dealer:&nbsp;</td>
    
                        <td>
                            <input disabled  type="text"  formControlName="dealerCode"  id="dealerCode" [(ngModel)]="dealerCode" class="form-control" >
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 15%" class="LabelFontStyle">Service&nbsp;Model:&nbsp;</td>
    
                        <td>
                            <input disabled  type="text"  formControlName="serviceModel"  id="serviceModel" [(ngModel)]="serviceModel" class="form-control" >
                        </td>
    
                        <!-- <td style="width: 15%" class="LabelFontStyle">Customer&nbsp;No:&nbsp;</td>
    
                        
                        <td>
                            <input disabled  type="text"  formControlName="custAccountNo"  id="custAccountNo" [(ngModel)]="custAccountNo" class="form-control" >
                        </td> -->

                        <td style="width: 15%" class="LabelFontStyle1">Current&nbsp;Mileage:&nbsp;</td>
        
                        <div *ngIf="displayButton; then thenBlockMcp1; else elseBlockMcp1"></div>
                        <ng-template #thenBlockMcp1>
                        <td>
                            <input   type="text"  formControlName="startKms"  id="startKms" [(ngModel)]="startKms" class="form-control" (change)='onEnterKms(startKms)' placeholder='Current Mileage' >
                        </td>
                        </ng-template>
                        <ng-template #elseBlockMcp1>
                        <td>
                            <input disabled  type="text"  formControlName="startKms"  id="startKms" [(ngModel)]="startKms" class="form-control" (change)='onEnterKms(startKms)' placeholder='Current Mileage' >
                        </td>
                        </ng-template>
                     
                            <td style="width: 15%" class="LabelFontStyle">Cust&nbsp;Name:&nbsp;</td>

                            <td>
                                <input disabled   type="text"  formControlName="custName"  id="custName" [(ngModel)]="custName" class="form-control" >
                            </td>
                            <td></td>

                             <!-- -----------------------------CUSTOMER MODAL FORM STARTS HERE--------------------- -->

                            <div *ngIf="dispCustButton; then thenBlockC; else elseBlockC"></div>
                            <ng-template #thenBlockC>

                            <td>
                                <button type="button"  class="btn btn-primary" 
                                data-toggle="modal" data-target="#exampleModal20"   style="width: 9rem;color: black;">
                                &nbsp;View&nbsp;Customer&nbsp;Details</button>
                                <!-- (click)="showPkgDetails()" -->
                           </td>
                            </ng-template>
                            <ng-template #elseBlockC>

                                <td>
                                    <button disabled type="button"  class="btn btn-primary" 
                                    data-toggle="modal" data-target="#exampleModal20"   style="width: 9rem;color: black;">
                                    &nbsp;View&nbsp;Customer&nbsp;Details</button>
                                    <!-- (click)="showPkgDetails()" -->
                               </td>
                            </ng-template>

                           <div class="modal fade" id="exampleModal20" tabindex="-1" role="dialog" aria-labelledby="exampleModal20Label" aria-hidden="true">
                            <div class="modal-dialog modal-lg" role="document" style="max-width: fit-content;">
                                <div class="modal-content">
                                 <div class="modal-header">


                                  <!-- <h5 class="modal-title" id="exampleModal20Label">Customer&nbsp;Information&nbsp;{{this.custName}}</h5> -->
                                  <h6 class="modal-title" id="exampleModal20Label">Customer&nbsp;Name:&nbsp;{{this.custName}}</h6>
                                  
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                 </div>
                                
                                 <div class="modal-body">
                                    <table class="center" style="width: 100%;">
                                        <tr>

                                            <fieldset class="RFS">
                                                <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;">CUSTOMER DETAILS</legend>
                                            <table class="center">
                                            <tr>

                                                <td style="width: 15%" class="LabelFontStyle">Cust&nbsp;Type:&nbsp;</td>

                                                <td>
                                                    <input disabled    type="text"  formControlName="customerType"  id="customerType" [(ngModel)]="customerType" class="form-control" >
                                                </td>
                                                <td style="width: 15%" class="LabelFontStyle">Cust&nbsp;No:&nbsp;</td>
                                                
                                                <td>
                                                    <input disabled  type="text"  formControlName="custAccountNo"  id="custAccountNo" [(ngModel)]="custAccountNo" class="form-control" >
                                                </td>

                                                <td style="width: 15%" class="LabelFontStyle1">DMS&nbsp;Cust&nbsp;No:&nbsp;</td>
                        
                                                <td>
                                                    <input disabled  type="text"  formControlName="dmsCustNo"  id="dmsCustNo" [(ngModel)]="dmsCustNo" class="form-control" required maxlength="10" >
                                                </td>
                                               
                                             
                                                </tr>
                                               
                                           
                                            <tr>
                        
                                            
                                            <td style="width: 15%" class="LabelFontStyle">GST&nbsp;No:&nbsp;</td>
                        
                                            <td>
                                                <input disabled    type="text"  formControlName="customerGstNo"  id="customerGstNo" [(ngModel)]="customerGstNo" class="form-control" >
                                            </td>
                                            
                                            <td style="width: 15%" class="LabelFontStyle">PAN&nbsp;:&nbsp;</td>
                        
                                            <td>
                                                <input disabled    type="text"  formControlName="customerPanNo"  id="customerPanNo" [(ngModel)]="customerPanNo" class="form-control" >
                                            </td>

                                            <td style="width: 15%" class="LabelFontStyle">Tax&nbsp;Category:&nbsp;</td>
                        
                                            <td>
                                                <input disabled    type="text"  formControlName="custTaxCategoryName"  id="custTaxCategoryName" [(ngModel)]="custTaxCategoryName" class="form-control" >
                                            </td>
                                            </tr>
                                            <tr>
                                            
                                                <td style="width: 15%" class="LabelFontStyle">Phone&nbsp;No:&nbsp;</td>
                                
                                                <td>
                                                    <input disabled   type="text"  formControlName="custPhone"  id="custPhone" [(ngModel)]="custPhone" class="form-control" >
                                                </td>
                                    
                                            </tr>
                                       
                                            <tr>
                        
                                                <td style="width: 5%" class="LabelFontStyle">Site&nbsp;Address:&nbsp;</td>
                            
                                                <td>
                                                    <input disabled  style="width: 420%"  type="text"  formControlName="customerSiteAddress"  id="customerSiteAddress" [(ngModel)]="customerSiteAddress" class="form-control" >
                                                </td>
                                            </tr>
                                            <tr>
                        
                                                <td style="width: 5%" class="LabelFontStyle">City&nbsp;:&nbsp;</td>
                            
                                                <td>
                                                    <input disabled    type="text"  formControlName="custCity"  id="custCity" [(ngModel)]="custCity" class="form-control" >
                                                </td>
                                                <td style="width: 5%" class="LabelFontStyle">State&nbsp;:&nbsp;</td>
                            
                                                <td>
                                                    <input disabled    type="text"  formControlName="custState"  id="custState" [(ngModel)]="custState" class="form-control" >
                                                </td>
                                                <td style="width: 5%" class="LabelFontStyle">PIN&nbsp;:&nbsp;</td>
                            
                                                <td>
                                                    <input disabled    type="text"  formControlName="custPincode"  id="custPincode" [(ngModel)]="custPincode" class="form-control" >
                                                </td>

                                            </tr>
                        
                                            </table>
                                            </fieldset>

                                            <div class="modal-footer">
                                               <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                                            </div>

                                        </tr>
                                    </table>
                                 </div>
                                </div>
                            </div>
                           </div>

                            <!-- -----------------------------CUSTOMER MODAL FORM ENDS HERE--------------------- -->

                        </tr>
    
                      
                        </table>
                    </fieldset>

                  

                    <fieldset class="RFS">
                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;">MCP PACKAGE DETAILS</legend>
                            <table class="center">
                                
                               <tr>
                                <td style="width: 15%" class="LabelFontStyle">Enquiry&nbsp;No:&nbsp;</td>
                                
                                <td>
                                    <input  disabled type="text"  formControlName="enqNo"  id="enqNo" [(ngModel)]="enqNo" class="form-control" >
                                </td>

                                <td style="width: 15%" class="LabelFontStyle">Enquiry&nbsp;Date:&nbsp;</td>
                                
                                <td>
                                    <input  disabled type="date"  formControlName="enqDate"  id="enqDate" [(ngModel)]="enqDate" class="form-control" >
                                </td>

                                <td style="width: 15%" class="LabelFontStyle1">Package&nbsp;No:&nbsp;</td>
                                
                                <!-- <td>
                                    <input   type="text"  formControlName="packageId"  id="packageId" [(ngModel)]="packageId" class="form-control" >
                                </td> -->

                                
                                <div *ngIf="displayButton; then thenBlockMcp2; else elseBlockMcp2"></div>
                                <ng-template #thenBlockMcp2>

                                <td>
                                    <select type="text" class="form-control" formControlName="pkgEnquired" [(ngModel)]="pkgEnquired"
                                        (ngModelChange)="onSelectPackageNumber($event)">
                                    <option>--Select--</option>
                                    <option *ngFor="let pk of mcpPackageList" [ngValue]="pk.packageNumber" >
                                    <!-- {{pk.packageId}}- -->
                                     {{pk.packageNumber}}-{{pk.packageDesc}}
                                    </option>
                                    </select>
                                </td>
                                </ng-template>

                                <ng-template #elseBlockMcp2>

                                <td>
                                    <select disabled type="text" class="form-control" formControlName="pkgEnquired" [(ngModel)]="pkgEnquired"
                                        (ngModelChange)="onSelectPackageNumber($event)">
                                    <option>--Select--</option>
                                    <option *ngFor="let pk of mcpPackageList" [ngValue]="pk.packageNumber" >
                                    <!-- {{pk.packageId}}- -->
                                        {{pk.packageNumber}}-{{pk.packageDesc}}
                                    </option>
                                    </select>
                                </td>
                                </ng-template>
                           
    
                                    <td style="width: 15%" class="LabelFontStyle1">Sales&nbsp;Person:&nbsp;</td>
            
                                    <td>
                                        <select type="number" class="form-control" formControlName="executive" [(ngModel)]="executive">
                                        <option>--Select--</option>
                                        <option *ngFor="let sc of issueByList" [ngValue]="sc.emplId" >
                                        {{sc.emplId}}-{{sc.ticketNo}}-{{sc.name}}
                                       
                                        </option>
                                        </select>
                                    </td>

                                <!-- <td style="width: 15%" class="LabelFontStyle">Package&nbsp;Type:&nbsp;</td> -->
                                
                               
                               </tr>
                               
                              
                                    <tr>
                                    <td style="width: 15%" class="LabelFontStyle1">Valid&nbsp;Period:&nbsp;</td>
                                
                                    <td>
                                        <input disabled  type="text"  formControlName="validMonths"  id="validMonths" [(ngModel)]="validMonths" class="form-control" style="text-align: right;">
                                    </td>
                                    <td style="width: 15%" class="LabelFontStyle1">Valid&nbsp;Kms:&nbsp;</td>
                                
                                    <td>
                                        <input disabled  type="text"  formControlName="validKms"  id="validKms" [(ngModel)]="validKms" class="form-control" style="text-align: right;" >
                                    </td>

                                    <!-- <td style="width: 15%" class="LabelFontStyle1">Start&nbsp;Date:&nbsp;</td>
                                
                                    <td>
                                        <input disabled  type="date"  formControlName="startDate"  id="startDate" [(ngModel)]="startDate" class="form-control" >
                                    </td> -->
                                    <td style="width: 15%" class="LabelFontStyle1">Enq&nbsp;Valid&nbsp;Date:&nbsp;</td>
                                
                                    <td>
                                        <input  disabled type="date"  formControlName="endDate"  id="endDate" [(ngModel)]="endDate" class="form-control" >
                                    </td>


                                </tr>

                                <tr>

                                     <td style="width: 15%" class="LabelFontStyle1">Package&nbsp;Name:&nbsp;</td>
                                
                                    <td>
                                        <input disabled style="width: 455%;" type="text"  formControlName="packageDesc"  id="packageDesc" [(ngModel)]="packageDesc" class="form-control" >
                                    </td>

                                    <td></td> <td></td><td></td> <td></td> <td></td> 
                                    <!--  
                                    <td>
                                        <button style="width: 16em;" type="button" class="btn btn-info" (click)="showPkgDetails()">Show Package Details</button>
                                    </td> -->

                                    <div *ngIf="showDetailsButton; then thenBlockA; else elseBlockA"></div>
                                    <ng-template #thenBlockA>
                                    <td>
                                        <button type="button"  class="btn btn-primary" 
                                        data-toggle="modal" data-target="#exampleModal21"   style="width: 9rem;color: black;">
                                        Show&nbsp;Package&nbsp;Details</button>
                                        <!-- (click)="showPkgDetails()" -->
                                   </td>
                                    </ng-template>
                                    <ng-template #elseBlockA>
                                    <td>
                                        <button disabled type="button"  class="btn btn-primary" 
                                        data-toggle="modal" data-target="#exampleModal21"   style="width: 9rem;color: black;">
                                        Show&nbsp;Package&nbsp;Details</button>
                                    </td>
                                    </ng-template>

                                    <!-- =================modal================= -->
                                        <div class="modal fade" id="exampleModal21" tabindex="-1" role="dialog" aria-labelledby="exampleModal21Label" aria-hidden="true">
                                            <div class="modal-dialog modal-lg" role="document">
                                                <div class="modal-content">
                                                 <div class="modal-header">
                                                  <h5 class="modal-title" id="exampleModal21Label">MCP&nbsp;Package&nbsp;No&nbsp;:&nbsp;{{this.pkgEnquired}} -{{this.packageDesc}}</h5>
                                                  <!-- MCP&nbsp;Package&nbsp;Item&nbsp;Details-&nbsp; -->
                                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                  </button>
                                                 </div>
                                                
                                                 <div class="modal-body">
                                                 <table class="center" style="width: 100%;">
                                                    <tr>
                
                                                        <!-- <td style="width: 15%" class="LabelFontStyle">
                                                            Package &nbsp;No&nbsp;:&nbsp;
                                                        </td>
                
                                                        <td>
                                                            <input  readonly type="text" class="form-control" formControlName="packageNumber"  >
                                                        </td> -->
                                                        
                                                    </tr>
                                                 
                                                 </table>
                                                     <div class="container1">
                                                        <div class="grid_scroll_3">
                                                        <table class="auto-style4" class="GridFont" cellspacing="0" cellpadding="4" border="0" id="ctl00_cpForm_grdActions" style="border-color:#959595;border-collapse:collapse;width: 100%;">
                                                       <tbody>
                                                            <tr class="GridHeader">
                 
                                                                <th style="width:6rem" scope="col">Srl#</th>
                                                                <!-- <th style="width:6rem" scope="col">Apply</th> -->
                                                                <!-- <th style="width:5rem;text-align: center;" scope="col"><input  type="checkbox" formControlName="selectAllflag1" [(ngModel)]="selectAllflag1" (change)="applyReceiptFlagAll($event)"></th> -->
                                                                <!-- <th><input  type="checkbox"  style="text-align: center;"  formControlName="applyrcptFlag" (change)="applyReceiptFlag($event,totUnApplAmt,k)"></td> -->
                                                                <!-- <th style="width:6rem" scope="col">Item Id</th> -->
                                                                <th style="width:6rem" scope="col">Item Number</th>
                                                                <th style="width:20rem" scope="col">Item Description</th>
                                                                <th style="width:5rem" scope="col">Item Type</th>
                                                                <th style="width:5rem" scope="col">ErpCode</th>
                                                                <th style="width:5rem" scope="col">Quantity</th>
                                                                <th style="width:5rem" scope="col">Pkg Qty</th>
                                                                <th style="width:5rem" scope="col">Erp Qty</th>
                                                                <th style="width:5rem" scope="col">Price</th>
                                                                <th style="width:5rem" scope="col">Basic Amt</th>
                                                                <th style="width:5rem" scope="col">Discount%</th>
                                                                <th style="width:5rem" scope="col">Disc Amt</th>
                                                                <th style="width:5rem" scope="col">Gst Amt</th>
                                                                <th style="width:5rem" scope="col">Net Amt</th>


                                                                <!-- <th style="width:10rem" scope="col">Balance</th> -->
                                                                <!-- <th style="width:10rem" scope="col">billToCustId</th> -->
                                                                <!-- <th style="width:10rem" scope="col">billToSiteId</th> -->
                
                                                                
                                                                <!-- <th style="width:6rem"  scope="col">Action</th> -->
                                                           </tr>
                                                       </tbody>
                                                       <ng-container  class="center" formArrayName="enqDtls">
                                                        <ng-container   *ngFor="let group of invLineArray().controls; let k= index" [formGroupName]="k" class="auto-style5">  
                    
                                                                  <tr>
                                                                    <td style="text-align: right;">{{k+1}}</td>
                                                                    <!-- <td><input style="width:  100px;height: 25px;"  disabled  type="text" formControlName="itemId" class="form-control"   > </td> -->
                                                                    <td><input style="width:  100px;height: 25px;"  disabled  type="text" formControlName="itemNumber" class="form-control"   > </td>
                                                                    <td><input style="width: 200px;height: 25px;" type="text" disabled formControlName="itemDesc" class="form-control"></td>
                                                                    <td><input style="width: 100px;height: 25px;" type="text"  disabled formControlName="itemType" class="form-control"></td>   
                                                                    <td><input style="width: 120px;height: 25px;" type="text"  disabled formControlName="erpCode" class="form-control"></td>   
                                                                    <!-- <td><input style="width: 60px;height: 25px;text-align: right;" type="text"  disabled formControlName="pkgQuantity" class="form-control"></td>    -->
                                                                    <td><input style="width: 60px;height: 25px;text-align: right;" type="text"  disabled formControlName="quantity" class="form-control"></td>   
                                                                    <td><input style="width: 60px;height: 25px;text-align: right;" type="text"  disabled formControlName="pkgQuantity" class="form-control"></td>   
                                                                    <td><input style="width: 60px;height: 25px;text-align: right;" type="text"  disabled formControlName="erpQuantity" class="form-control"></td>   
                                                                    <td><input style="width: 80px;height: 25px;text-align: right;" type="text"  disabled formControlName="basicAmt" class="form-control"></td>   
                                                                    <td><input style="width: 80px;height: 25px;text-align: right;" type="text"  disabled formControlName="rate" class="form-control"></td>   
                                                                    <td><input style="width: 80px;height: 25px;text-align: right;" type="text"  disabled formControlName="discPer"  class="form-control"></td>   
                                                                    <td><input style="width: 80px;height: 25px;text-align: right;" type="text"  disabled formControlName="disAmt" class="form-control"></td>   
                                                                    <td><input style="width: 80px;height: 25px;text-align: right;" type="text"  disabled formControlName="gstAmt" class="form-control"></td>   
                                                                    <td><input style="width: 80px;height: 25px;text-align: right;" type="text"  disabled formControlName="netAmt" class="form-control"></td>   
                                                                </tr>
                                                                </ng-container>
                                                                </ng-container>
                                                        </table>
                                                            </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                 <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                                                  <!-- <button type="button" class="btn btn-info" (click)="resetModalMast()">Reset</button> -->
                                            
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                          <!-- ==================================modal end========================== -->

                                            </tr>
                                                    
                                                        
                                            
                                                </table>
                                        </fieldset>

                                <fieldset class="RFS">
                                    <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 10px;color: black;">MCP PRICE DETAILS</legend>
                                        <table class="center">
                                
                                
                                <tr>
                                   <td></td><td style="width: 15%;text-align: center;" class="LabelFontStyle">Base&nbsp;Amt&nbsp;</td>
                                   <td></td>
                                   <td style="width: 15%;text-align: center;" class="LabelFontStyle">Discount&nbsp;Amt&nbsp;</td>
                                   <td></td>
                                   <td style="width: 15%;text-align: center;" class="LabelFontStyle">GST&nbsp;Amt&nbsp;</td>
                                   <!-- <td style="width: 15%;text-align: center;" class="LabelFontStyle">Cess&nbsp;Amt&nbsp;</td> -->
                                    <td></td>
                                    <td style="width: 15%;text-align: center;" class="LabelFontStyle">Net&nbsp;Amt&nbsp;</td>
                                 </tr>
                                 <tr>
                                    <td style="width: 15%;font-weight: bold;" class="LabelFontStyle">Labour&nbsp;:&nbsp;</td>
                                    <td><input disabled  style="text-align: right;"  type="text"  formControlName="labAmt"  id="labAmt" [(ngModel)]="labAmt" class="form-control" ></td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="labDiscAmt"  id="labDiscAmt" [(ngModel)]="labDiscAmt" class="form-control" ></td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="labTaxAmt"  id="labTaxAmt" [(ngModel)]="labTaxAmt" class="form-control" ></td>
                                    <!-- <td><input disabled style="text-align: right;"  type="text"  formControlName="labCessAmt"  id="labCessAmt" [(ngModel)]="labCessAmt" class="form-control" ></td> -->
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="labNetAmt"  id="labNetAmt" [(ngModel)]="labNetAmt" class="form-control" ></td>
                                 </tr>
                                 <tr>
                                    <td style="width: 15%;font-weight: bold;" class="LabelFontStyle">Material&nbsp;:&nbsp;</td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="matAmt"  id="matAmt" [(ngModel)]="matAmt" class="form-control" ></td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="matDiscAmt"  id="matDiscAmt" [(ngModel)]="matDiscAmt" class="form-control" ></td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="matTaxAmt"  id="matTaxAmt" [(ngModel)]="matTaxAmt" class="form-control" ></td>
                                    <!-- <td><input disabled style="text-align: right;"  type="text"  formControlName="matCessAmt"  id="matCessAmt" [(ngModel)]="matCessAmt" class="form-control" ></td> -->
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="matNetAmt"  id="matNetAmt" [(ngModel)]="matNetAmt" class="form-control" ></td>
                                 </tr>
                                 <tr>
                                    <td style="width: 15%;font-weight: bold;" class="LabelFontStyle">Consumables&nbsp;:&nbsp;</td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="consAmt"  id="consAmt" [(ngModel)]="consAmt" class="form-control" >    </td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="consDiscAmt"  id="consDiscAmt" [(ngModel)]="consDiscAmt" class="form-control" >    </td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="consGstAmt"  id="consGstAmt" [(ngModel)]="consGstAmt" class="form-control" >    </td>
                                    <!-- <td><input disabled  style="text-align: right;" type="text"  formControlName="consCessAmt"  id="consCessAmt" [(ngModel)]="consCessAmt" class="form-control" >    </td> -->
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="consNetAmt"  id="consNetAmt" [(ngModel)]="consNetAmt" class="form-control" >    </td>
                                 </tr>
                                 <tr>
                                    <td style="width: 15%;font-weight: bold;" class="LabelFontStyle">Total&nbsp;Amt:&nbsp;</td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="totBaseAmt"  id="totBaseAmt" [(ngModel)]="totBaseAmt" class="form-control" > </td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="discAmt"  id="discAmt" [(ngModel)]="discAmt" class="form-control" > </td>
                                    <td></td>
                                    <td><input disabled style="text-align: right;"  type="text"  formControlName="totTaxAmt"  id="totTaxAmt" [(ngModel)]="totTaxAmt" class="form-control" > </td>
                                    <!-- <td><input disabled style="text-align: right;"  type="text"  formControlName="totCessAmt"  id="totCessAmt" [(ngModel)]="totCessAmt" class="form-control" > </td> -->
                                    <td></td>
                                    <td><input disabled style="font-weight: bold;text-align: right;" type="text"  formControlName="packageAmt"  id="packageAmt" [(ngModel)]="packageAmt" class="form-control" placeholder="Package Total"> </td>
                                </tr>

                            </table>
                    </fieldset>

                   <br>
                   
           
               
                    <!-- ===================================Buttons======================================== -->
                      <table class="center">
                        <tr>
                            <div *ngIf="displayButton; then thenBlock1; else elseBlock1"></div>
                            <ng-template #thenBlock1>
                                <td>
                                    <button type="button" class="btn btn-info" (click)="newMast()" [disabled]="!mcpEnquiryForm">Save</button>
                                </td>
                                
                                <td>
                                    <!-- <button type="button" class="btn btn-info" (click)="searchMast()">Print Slip</button> -->
                                </td>

                                    <!-- ====================Reset Dialog ======================== -->

                                <td>
                                    <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">Reset</button>
                                </td>
                                 <!-- Modal -->
                                    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="width:600px;">
                                        <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <label style="font-size: small; color: black;font-weight: bold; text-align:center;vertical-align: middle;">
                                                    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                    Want&nbsp;to&nbsp;Reset. &nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                </label>
                                            </div>
                                            <div class="modal-footer">
                                                <table class="center">
                                                    <tr>
                                                        <td>
                                                            <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                        </td>
                                                        <td>
                                                            <button type="submit" class="btn btn-info" id="register" (click)="resetMast()">Yes</button> 
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        </div>
                                    </div>

                                        <!-- =====================Close Dialog Box====================== -->
                                        <td>
                                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModalLong">Close</button>
                                        </td>
                                        <!-- Modal -->
                                        <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" style="width:600px;">
                                            <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                                <div class="modal-body">
                                                    <label style="font-size: small; color: black; font-weight: bold; text-align: center; vertical-align: middle;">
                                                        <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                        Want&nbsp;to&nbsp;Close.&nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                    </label>
                                                </div>
                                                <div class="modal-footer">
                                                    <table class="center">
                                                        <tr>
                                                            <td>
                                                            <button  type="submit" class="btn btn-info" data-dismiss="modal" id="register"   (click)="closeMast()">Yes</button>
                                                            </td>
                                                            <td>
                                                            <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                            </div>
                                        </div>

                        <!-- ==================================================== -->

                                    </ng-template>
                                    <ng-template #elseBlock1>
                                   
                                            <!-- <td>
                                                <button type="button" class="btn btn-info" (click)="updateMast()"[disabled]="!mcpEnquiryForm">Update</button>
                                            </td> -->
                                            <td>
                                                <button type="button" class="btn btn-info" (click)="printMast()">Print Slip</button>
                                            </td>
                                            <!-- <td>
                                                <button type="submit" class="btn btn-primary" id="register" (click)="resetMast()">Reset</button>
                                            </td>
                                            <td>
                                                <button type="submit" class="btn btn-primary" id="register" (click)="closeMast()">Close</button>
                                                        </td> -->
            <!-- ====================Reset Dialog ======================== -->

                                    <td>
                                        <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">Reset</button>
                                    </td>
                                    <!-- Modal -->
                                                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="width:600px;">
                                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <label style="font-size: small; color: black;font-weight: bold; text-align:center;vertical-align: middle;">
                                                    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                    Want&nbsp;to&nbsp;Reset. &nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                </label>
                                            </div>
                                            <div class="modal-footer">
                                                <table class="center">
                                                    <tr>
                                                        <td>
                                                            <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                        </td>
                                                        <td>
                                                            <button type="submit" class="btn btn-info" id="register" (click)="resetMast()">Yes</button> 
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        </div>
                                    </div>

                             <!-- =====================Close Dialog Box====================== -->
                                <td>
                                <button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModalLong">Close</button>
                                </td>
                                        <!-- Modal -->
                                    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" style="width:600px;">
                                        <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <label style="font-size: small; color: black; font-weight: bold; text-align: center; vertical-align: middle;">
                                                    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                                                    Want&nbsp;to&nbsp;Close.&nbsp;Confirm&nbsp;(Yes/No)?&nbsp;
                                                </label>
                                            </div>
                                            <div class="modal-footer">
                                                <table class="center">
                                                    <tr>
                                                        <td>
                                                        <button  type="submit" class="btn btn-info" data-dismiss="modal" id="register"   (click)="closeMast()">Yes</button>
                                                        </td>
                                                        <td>
                                                        <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        </div>
                                    </div>
                                 <!-- ==================================================== -->
                                    </ng-template>
                                </tr>
                            </table>
                            <!-- ==================================================== -->
                            <br>

                            <!-- <table style="width: 100%; background-color: #FFE4B5;"> -->
                            <!-- <table class="center" style="width: 100%;background-color: #FFE4B5;">

                                <tr>

                                    <table class="center">
                                        <tr>
                                    <td style="width: 15%" class="LabelFontStyle">MCP&nbsp;Enquiry&nbsp;No:&nbsp;</td>
                                
                                    <td>
                                        <input   type="text"  formControlName="searchEnqNo"  id="searchEnqNo" [(ngModel)]="searchEnqNo" class="form-control" >
                                    </td>
                            
                                    <td style="width: 15%" class="LabelFontStyle">Vehicle&nbsp;Reg&nbsp;No:&nbsp;</td>
                                
                                    <td>
                                        <input   type="text"  formControlName="searchRegno"  id="searchRegno" [(ngModel)]="searchRegno" class="form-control" >
                                    </td>
                                                        
                                    <td colspan="8" style="text-align: left; width: 100%;">
                                        <button type="submit"  (click)="SearchByMcpEnqNo(searchEnqNo)" class="btn btn-primary"><i
                                                class="fa fa-search"></i></button> 
                                    </td>
                                </tr>
                                    </table>
                                </tr>
                            </table> -->


                            <fieldset class="RFS">
                                <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 12px;color: black;font-weight: bold;">
                                   SEARCH</legend>
                            <table class="center" style="width: 100%;background-color: #FFE4B5;">
                                <tr>
                                  <td >
                                      <table class="center">
                                          <tr>
                                            <td  style="background-color: #FFE4B5;">
                                                &nbsp;Enquiry&nbsp;No&nbsp;:&nbsp;
                                            </td>
                                            <td style="background-color: #FFE4B5;">
                                                <input class="form-control" formControlName="searchEnqNo" [(ngModel)]='searchEnqNo'
                                                    value={{searchEnqNo}} style="text-transform:uppercase;">
                                            </td>

                                            <td style="background-color: #FFE4B5;">
                                                <button type="button" class="btn-primary" (click)="SearchByMcpEnqNo(searchEnqNo)"><i class="fa fa-search"
                                                        aria-hidden="true"></i></button>
                                            </td>
                                            <td style="width: 15%" class="LabelFontStyle">&nbsp;Reg&nbsp;No:&nbsp;</td>
                                
                                            <td>
                                                <input   type="text"  formControlName="searchRegno"  id="searchRegno" [(ngModel)]="searchRegno" class="form-control" style="text-transform:uppercase;">
                                            </td>

                                            <td style="background-color: #FFE4B5;">
                                                <button type="button" class="btn-primary" (click)="SearchByMcpRegNo(searchRegno)"><i class="fa fa-search"
                                                        aria-hidden="true"></i></button>
                                            </td>
                                          </tr>
                                      </table>
                                  </td>
                                </tr>
                            </table>
                            </fieldset>




                </form>
            </div>
        </div>
    </div>
</div>
<br>


<div class="container1">
    <div class="grid_scroll">
    <table class="auto-style4" class="GridFont" cellspacing="0" cellpadding="4" border="0" id="ctl00_cpForm_grdActions" style="border-color:#959595;border-collapse:collapse;width: 100%;">
   <tbody>
        <tr class="GridHeader">
            <th style="width:6rem" scope="col">Enq No</th>
            <th style="width:6rem" scope="col">Enq Date</th>
            <th style="width:6rem" scope="col">Valid Till Date</th>
            <th style="width:6rem" scope="col">Package No</th>
            <th style="width:15rem" scope="col">Package Name</th>
             <th style="width:10rem" scope="col">Reg No</th>
             <th style="width:6rem" scope="col">Fuel Type</th>
            <th style="width:6rem" scope="col">Source</th>
            <th style="width:6rem;" scope="col">Package Value</th>
            <th style="width:10rem" scope="col">Executive</th>
            <th style="width:6rem"  scope="col">Select</th>
    </tr>
   </tbody>
            <tr *ngFor="let com of lstMcplines" class="ItemStyle" style="text-decoration:none;">
                
                <td style="text-align: center;">{{com.enqNo}}</td>
                <td style="text-align: center;">{{com.enqDate | date:'dd-MM-y'}}-</td>
                <td style="text-align: center;">{{com.endDate | date:'dd-MM-y'}}-</td>
                <td style="text-align: center;">{{com.pkgEnquired}}</td>
                <td>{{com.packageDesc}}</td>
                <td style="text-align: center;">{{com.regNo}}</td>
                <td style="text-align: center;">{{com.fuelType}}</td>
                <td style="text-align: center;">{{com.sourceDesc}}</td>
                <td style="text-align: center;">{{com.packageAmt}}</td> 
                <td style="text-align: center;">{{com.execName}}</td>
                <td><button class="btn btn-secondary" (click)="Select(com.enqNo)">Select</button></td>   
               
            </tr>
    </table>
</div>
</div>

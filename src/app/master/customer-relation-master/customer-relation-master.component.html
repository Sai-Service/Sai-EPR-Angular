<div class="center">
    <table style="width: 100%;background-color: white;">
        <tr>
            <td class="PageHeader"> &nbsp;Customer&nbsp;Relation&nbsp;Manager&nbsp;Master</td>
        </tr>
    </table>

    <div class="center" style="width: 100%;">
        <div class="form-bg">
            <div class="center" style="width: 100%;">
              <form [formGroup]="custRelationMasterForm" (ngSubmit)="custRelationMaster(custRelationMasterForm.value)">
                   
                <fieldset class="RFS">
                    <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 12px;color: black;font-weight: bold;">SEARCH</legend>
                    <table class="center" style="width: 100%;background-color: #FFE4B5;">
                        <tr>
                        <td >
                            <table class="center">
                                <tr>
                                    <td  style="background-color: #FFE4B5;">&nbsp;Employee&nbsp;Ticket&nbsp;No:&nbsp;</td>
                                    
                                    <td style="background-color: #FFE4B5;">
                                        <input type="number" class="form-control" formControlName="empTktNo" [(ngModel)]='empTktNo'
                                            value={{empTktNo}} style="text-transform:uppercase;">
                                    </td>

                                    <td style="background-color: #FFE4B5;">
                                        <button type="button" class="btn-primary" (click)="SearchByEmpTktNo(empTktNo)"><i class="fa fa-search"
                                                aria-hidden="true"></i></button>
                                    </td>

                                    <td  style="background-color: #FFE4B5;">&nbsp;Customer&nbsp;Name&nbsp;&nbsp;</td>
                                    
                                    <td style="background-color: #FFE4B5;">
                                        <input type="number" class="form-control" formControlName="custName" [(ngModel)]='custName'
                                            value={{custName}} style="text-transform:uppercase;">
                                    </td>

                                    <td style="background-color: #FFE4B5;">
                                        <button type="button" class="btn-primary" (click)="SearchByCust(custName)"><i class="fa fa-search"
                                                aria-hidden="true"></i></button>
                                    </td>
                
                                </tr>
                            </table>
                        </td>
                        </tr>
                    </table>
                    </fieldset>

                    <fieldset class="RFS">
                        <legend id="FormsPH_LGAadhaar" class="RFSL" style="font-size: 12px;color: black;font-weight: bold;">Employee Information</legend>
                        <table class="center">
                            <tr>
                                <td style="width: 15%" class="LabelFontStyle">Emp&nbsp;Ticket&nbsp;No:</td>
                                <td>
                                    <input disabled type="text"  formControlName="empTktNo" id="empTktNo"  [(ngModel)]="empTktNo" class="form-control">
                                </td>

                                <td style="width: 15%" class="LabelFontStyle">Emp&nbsp;Name&nbsp;:</td>
                                <td>
                                    <input disabled  style="width: 300px;"  type="text"  formControlName="emplName" id="emplName"  [(ngModel)]="emplName" class="form-control">
                                </td>

                                <td style="width: 15%" class="LabelFontStyle">Start&nbsp;Date&nbsp;:</td>
                                <td>
                                    <input disabled type="date"  formControlName="startDate" id="startDate"  [(ngModel)]="startDate" class="form-control">
                                </td>
                               
                               </tr>
                               <tr>
                                <td style="width: 15%" class="LabelFontStyle">Emp&nbsp;Status&nbsp;:</td>
                                <td>
                                    <input disabled type="text"  formControlName="empStatus" id="empStatus"  [(ngModel)]="empStatus" class="form-control">
                                </td>

                                <td style="width: 15%" class="LabelFontStyle">Designation&nbsp;:</td>
                                <td>
                                    <input disabled style="width: 300px;" type="text"  formControlName="empDesig" id="empDesig"  [(ngModel)]="empDesig" class="form-control">
                                </td>

                                

                                <td style="width: 15%" class="LabelFontStyle">End&nbsp;Date&nbsp;:</td>
                                <td>
                                    <input disabled type="date"  formControlName="endDate" id="endDate"  [(ngModel)]="endDate" class="form-control">
                                </td>

                               </tr>

                        </table>
                    </fieldset>

                    <div class="center">
                        <!-- <br> -->
                       <div class="center" formArrayName="custList">
  
                            <div class="grid_scroll">

                             <table style="width: 100%; border: solid 1px Gray" class="auto-style4"
                                          cellspacing="0" cellpadding="4" rules="all" class="center">

                                          <thead>
                                            <tr class="GridHeader">
                                                  <th style="width:3rem" scope="col">Srl&nbsp;No.</th>
                                                  <th style="width:5rem" scope="col">Account&nbsp;No</th>
                                                  <th style="width:15rem" scope="col">Customer Name</th>
                                                  <th style="width:20rem" scope="col">Address</th>
                                                  <th style="width:6rem" scope="col">Contact No</th>
                                                  <th style="width:6rem" scope="col">Start Date</th>
                                                  <th style="width:6rem" scope="col">End Date</th>
                                                   <th style="width:2rem" scope="col">Add+</th>
                                                  <th style="width:2rem" scope="col">Del-</th>
                                              </tr>
                                          </thead>

                                          <tr *ngFor="let group of lineDetailsArray().controls; let i= index" [formGroupName]="i" >
                                                
                                            <input type="text" hidden formControlName="priceListLineId">
                                            <td style="text-align: center;width: 4rem;">{{i+1}}</td>
                                            <input hidden disabled style="width:5rem;"  type="text" formControlName="customerId" class="form-control">
                                               
                                      

                                                <div *ngIf="addNew; then B1; else B2"></div>
                                                <ng-template #B1>
                                              
                                                <td>
                                                    <input  style="width:22rem;background-color: yellow; text-transform: uppercase;"  type="text" formControlName="segment" class="form-control"  
                                                                     (change)="onOptioninvItemIdSelectedNew(segment,i)"  placeholder="Enter Item Code"  >
                                                </td>

                                                <!-- <td><input style="text-align: right;width:6rem;"  type="number" formControlName="priceValue"  class="form-control" (change)="validatePrice(i)" placeholder="Price "  > </td> -->
 

                                                </ng-template>
                                                <ng-template #B2>
                                                 <td><input disabled style="width:16rem;" type="text" formControlName="segment" class="form-control"  /></td> 
                                                </ng-template>
                                              
                                                <td>
                                                    <input disabled style="width:22rem;"  type="text" formControlName="itemDescription" class="form-control"   placeholder="Item Description "  >
                                                </td>

                                                <td>
                                                    <input style="width:7rem;" disabled  type="text" formControlName="itemCategory"  class="form-control" placeholder="Item Category "  >
                                                </td>
                                                <td>
                                                    <input style="width: 3rem;" disabled  type="text" formControlName="uom"  class="form-control" placeholder="Uom "  >
                                                </td>
                                                <td>
                                                    <input style="width:6rem;"  type="text" formControlName="batchCode"  class="form-control" placeholder="Batch Code "  >
                                                </td>
                                                <td>
                                                    <input style="text-align: right;width:6rem;"  type="number" formControlName="priceValue"  class="form-control" (change)="validatePrice(i)" placeholder="Price "  >
                                                </td>
                                               
                                               
                                                <td><button  type="submit" class="btn btn-info" (click)="addRow(i)" (keydown.shift.arrowdown)="addRow(i)" style="width: min-content;"><i class="fa fa-plus"></i></button>  </td>
                                                <td><button  type="submit" class="btn btn-info" (click)="RemoveRow(i)" style="width: min-content;"><i class="fa fa-trash"></i></button>  </td>
                                            


                                              </tr>



                             </table>
                            </div>
                       </div>
                    </div>
              </form>
            </div>
        </div>
    </div>
</div>